!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("reactium-core/sdk"),require("object-path"),require("prop-types"),require("underscore"),require("react-dom"),require("classnames")):"function"==typeof define&&define.amd?define(["react","reactium-core/sdk","object-path","prop-types","underscore","react-dom","classnames"],t):"object"==typeof exports?exports["shortcodes-editor"]=t(require("react"),require("reactium-core/sdk"),require("object-path"),require("prop-types"),require("underscore"),require("react-dom"),require("classnames")):e["shortcodes-editor"]=t(e.react,e["reactium-core/sdk"],e["object-path"],e["prop-types"],e.underscore,e["react-dom"],e.classnames)}(window,(function(e,t,r,n,o,a,i){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=22)}([function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t){e.exports=r},function(e,t,r){"use strict";(function(e){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o;r.d(t,"a",(function(){return ue})),r.d(t,"b",(function(){return le})),r.d(t,"c",(function(){return m})),r.d(t,"d",(function(){return se}));var a,i,c="undefined"!=typeof Symbol,s="undefined"!=typeof Map,u="undefined"!=typeof Set,l=c?Symbol("immer-nothing"):((o={})["immer-nothing"]=!0,o),f=c?Symbol("immer-draftable"):"__$immer_draftable",d=c?Symbol("immer-state"):"__$immer_state",h=c?Symbol.iterator:"@@iterator",p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function v(e,t){function r(){this.constructor=e}p(e,t),e.prototype=(r.prototype=t.prototype,new r)}function m(e){return!!e&&!!e[d]}function y(e){return!!e&&(function(e){if(!e||"object"!==n(e))return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||Array.isArray(e)||!!e[f]||!!e.constructor[f]||x(e)||E(e))}!function(e){e[e.Object=0]="Object",e[e.Array=1]="Array",e[e.Map=2]="Map",e[e.Set=3]="Set"}(a||(a={})),function(e){e[e.ProxyObject=0]="ProxyObject",e[e.ProxyArray=1]="ProxyArray",e[e.ES5Object=2]="ES5Object",e[e.ES5Array=3]="ES5Array",e[e.Map=4]="Map",e[e.Set=5]="Set"}(i||(i={}));var g="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function b(e,t){w(e)===a.Object?g(e).forEach((function(r){return t(r,e[r],e)})):e.forEach((function(r,n){return t(n,r,e)}))}function w(e){if(e||C(),e[d])switch(e[d].type){case i.ES5Object:case i.ProxyObject:return a.Object;case i.ES5Array:case i.ProxyArray:return a.Array;case i.Map:return a.Map;case i.Set:return a.Set}return Array.isArray(e)?a.Array:x(e)?a.Map:E(e)?a.Set:a.Object}function O(e,t){return w(e)===a.Map?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function S(e,t){return w(e)===a.Map?e.get(t):e[t]}function k(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function x(e){return s&&e instanceof Map}function E(e){return u&&e instanceof Set}function j(e){return e.copy||e.base}function P(e,t){if(void 0===t&&(t=!1),Array.isArray(e))return e.slice();var r=Object.create(Object.getPrototypeOf(e));return g(e).forEach((function(n){if(n!==d){var o=Object.getOwnPropertyDescriptor(e,n),a=o.value;if(o.get){if(!t)throw new Error("Immer drafts cannot have computed properties");a=o.get.call(e)}o.enumerable?r[n]=a:Object.defineProperty(r,n,{value:a,writable:!0,configurable:!0})}})),r}function T(e,t){if(y(e)&&!m(e)&&!Object.isFrozen(e)){var r=w(e);r===a.Set?e.add=e.clear=e.delete=A:r===a.Map&&(e.set=e.clear=e.delete=A),Object.freeze(e),t&&b(e,(function(e,t){return T(t,!0)}))}}function A(){throw new Error("This object has been frozen and should not be mutated")}function C(){throw new Error("Illegal state, please file a bug")}var D=function(){function e(e,t){this.drafts=[],this.parent=e,this.immer=t,this.canAutoFreeze=!0}return e.prototype.usePatches=function(e){e&&(this.patches=[],this.inversePatches=[],this.patchListener=e)},e.prototype.revoke=function(){this.leave(),this.drafts.forEach(F),this.drafts=null},e.prototype.leave=function(){this===e.current&&(e.current=this.parent)},e.enter=function(t){var r=new e(e.current,t);return e.current=r,r},e}();function F(e){var t=e[d];t.type===i.ProxyObject||t.type===i.ProxyArray?t.revoke():t.revoked=!0}function N(e,t,r){var n=r.drafts[0],o=void 0!==t&&t!==n;if(e.willFinalize(r,t,o),o){if(n[d].modified)throw r.revoke(),new Error("An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.");y(t)&&(t=R(e,t,r),r.parent||z(e,t)),r.patches&&(r.patches.push({op:"replace",path:[],value:t}),r.inversePatches.push({op:"replace",path:[],value:n[d].base}))}else t=R(e,n,r,[]);return r.revoke(),r.patches&&r.patchListener(r.patches,r.inversePatches),t!==l?t:void 0}function R(e,t,r,n){var o=t[d];if(!o)return Object.isFrozen(t)?t:M(e,t,r);if(o.scope!==r)return t;if(!o.modified)return z(e,o.base,!0),o.base;if(!o.finalized){if(o.finalized=!0,M(e,o.draft,r,n),e.onDelete&&o.type!==i.Set)if(e.useProxies){b(o.assigned,(function(t,r){r||e.onDelete(o,t)}))}else{var a=o.base,c=o.copy;b(a,(function(t){O(c,t)||e.onDelete(o,t)}))}e.onCopy&&e.onCopy(o),e.autoFreeze&&r.canAutoFreeze&&T(o.copy,!1),n&&r.patches&&function(e,t,r,n){switch(e.type){case i.ProxyObject:case i.ES5Object:case i.Map:return function(e,t,r,n){var o=e.base,a=e.copy;b(e.assigned,(function(e,i){var c=S(o,e),s=S(a,e),u=i?O(o,e)?"replace":"add":"remove";if(c!==s||"replace"!==u){var l=t.concat(e);r.push("remove"===u?{op:u,path:l}:{op:u,path:l,value:s}),n.push("add"===u?{op:"remove",path:l}:"remove"===u?{op:"add",path:l,value:c}:{op:"replace",path:l,value:c})}}))}(e,t,r,n);case i.ES5Array:case i.ProxyArray:return function(e,t,r,n){var o,a,i=e.base,c=e.assigned,s=e.copy;s||C();s.length<i.length&&(i=(o=[s,i])[0],s=o[1],r=(a=[n,r])[0],n=a[1]);var u=s.length-i.length,l=0;for(;i[l]===s[l]&&l<i.length;)++l;var f=i.length;for(;f>l&&i[f-1]===s[f+u-1];)--f;for(var d=l;d<f;++d)if(c[d]&&s[d]!==i[d]){var h=t.concat([d]);r.push({op:"replace",path:h,value:s[d]}),n.push({op:"replace",path:h,value:i[d]})}var p=r.length;for(d=f+u-1;d>=f;--d){h=t.concat([d]);r[p+d-f]={op:"add",path:h,value:s[d]},n.push({op:"remove",path:h})}}(e,t,r,n);case i.Set:(function(e,t,r,n){var o=e.base,a=e.copy,i=0;o.forEach((function(e){if(!a.has(e)){var o=t.concat([i]);r.push({op:"remove",path:o,value:e}),n.unshift({op:"add",path:o,value:e})}i++})),i=0,a.forEach((function(e){if(!o.has(e)){var a=t.concat([i]);r.push({op:"add",path:a,value:e}),n.unshift({op:"remove",path:a,value:e})}i++}))})(e,t,r,n)}}(o,n,r.patches,r.inversePatches)}return o.copy}function M(e,t,r,n){var o=t[d];return o&&(o.type!==i.ES5Object&&o.type!==i.ES5Array||(o.copy=P(o.draft,!0)),t=o.copy),b(t,(function(i,c){return function e(t,r,n,o,i,c,s,u){if(s===i)throw Error("Immer forbids circular references");var l=!!o&&i===n,f=E(i);if(m(s)){var d=u&&l&&!f&&!O(o.assigned,c)?u.concat(c):void 0;s=R(t,s,r,d),function(e,t,r){switch(w(e)){case a.Map:e.set(t,r);break;case a.Set:e.delete(t),e.add(r);break;default:e[t]=r}}(i,c,s),m(s)&&(r.canAutoFreeze=!1)}else{if(l&&k(s,S(o.base,c)))return;y(s)&&(b(s,(function(a,i){return e(t,r,n,o,s,a,i,u)})),r.parent||z(t,s))}l&&t.onAssign&&!f&&t.onAssign(o,c,s)}(e,r,t,o,t,i,c,n)})),t}function z(e,t,r){void 0===r&&(r=!1),e.autoFreeze&&!m(t)&&T(t,r)}var H={get:function(e,t){if(t===d)return e;var r=e.drafts;if(!e.modified&&O(r,t))return r[t];var n=j(e)[t];if(e.finalized||!y(n))return n;if(e.modified){if(n!==_(e.base,t))return n;r=e.copy}return r[t]=e.scope.immer.createProxy(n,e)},has:function(e,t){return t in j(e)},ownKeys:function(e){return Reflect.ownKeys(j(e))},set:function(e,t,r){if(!e.modified){var n=_(e.base,t);if(r?k(n,r)||r===e.drafts[t]:k(n,r)&&t in e.base)return!0;L(e),B(e)}return e.assigned[t]=!0,e.copy[t]=r,!0},deleteProperty:function(e,t){return void 0!==_(e.base,t)||t in e.base?(e.assigned[t]=!1,L(e),B(e)):e.assigned[t]&&delete e.assigned[t],e.copy&&delete e.copy[t],!0},getOwnPropertyDescriptor:function(e,t){var r=j(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&(n.writable=!0,n.configurable=e.type!==i.ProxyArray||"length"!==t),n},defineProperty:function(){throw new Error("Object.defineProperty() cannot be used on an Immer draft")},getPrototypeOf:function(e){return Object.getPrototypeOf(e.base)},setPrototypeOf:function(){throw new Error("Object.setPrototypeOf() cannot be used on an Immer draft")}},I={};function _(e,t){var r=e[d],n=Reflect.getOwnPropertyDescriptor(r?j(r):e,t);return n&&n.value}function B(e){if(!e.modified){if(e.modified=!0,e.type===i.ProxyObject||e.type===i.ProxyArray){var t=e.copy=P(e.base);b(e.drafts,(function(e,r){t[e]=r})),e.drafts=void 0}e.parent&&B(e.parent)}}function L(e){e.copy||(e.copy=P(e.base))}function U(e,t,r){e.drafts.forEach((function(e){e[d].finalizing=!0})),r?m(t)&&t[d].scope===e&&$(e.drafts):(e.patches&&function e(t){if(!t||"object"!==n(t))return;var r=t[d];if(!r)return;var o=r.base,a=r.draft,c=r.assigned,s=r.type;if(s===i.ES5Object)b(a,(function(t){t!==d&&(void 0!==o[t]||O(o,t)?c[t]||e(a[t]):(c[t]=!0,q(r)))})),b(o,(function(e){void 0!==a[e]||O(a,e)||(c[e]=!1,q(r))}));else if(s===i.ES5Array){if(X(r)&&(q(r),c.length=!0),a.length<o.length)for(var u=a.length;u<o.length;u++)c[u]=!1;else for(u=o.length;u<a.length;u++)c[u]=!0;var l=Math.min(a.length,o.length);for(u=0;u<l;u++)void 0===c[u]&&e(a[u])}}(e.drafts[0]),$(e.drafts))}function W(e,t){var r=Array.isArray(e),n=K(e);b(n,(function(t){!function(e,t,r){var n=G[t];n?n.enumerable=r:G[t]=n={configurable:!0,enumerable:r,get:function(){return function(e,t){Z(e);var r=V(j(e),t);if(e.finalizing)return r;if(r===V(e.base,t)&&y(r))return Y(e),e.copy[t]=e.scope.immer.createProxy(r,e);return r}(this[d],t)},set:function(e){!function(e,t,r){if(Z(e),e.assigned[t]=!0,!e.modified){if(k(r,V(j(e),t)))return;q(e),Y(e)}e.copy[t]=r}(this[d],t,e)}};Object.defineProperty(e,t,n)}(n,t,r||function(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!(!r||!r.enumerable)}(e,t))}));var o,a,c,s={type:r?i.ES5Array:i.ES5Object,scope:t?t.scope:D.current,modified:!1,finalizing:!1,finalized:!1,assigned:{},parent:t,base:e,draft:n,copy:null,revoked:!1,isManual:!1};return o=n,a=d,c=s,Object.defineProperty(o,a,{value:c,enumerable:!1,writable:!0}),n}function V(e,t){var r=e[d];if(r&&!r.finalizing){r.finalizing=!0;var n=e[t];return r.finalizing=!1,n}return e[t]}function q(e){e.modified||(e.modified=!0,e.parent&&q(e.parent))}function Y(e){e.copy||(e.copy=K(e.base))}function K(e){var t=e&&e[d];if(t){t.finalizing=!0;var r=P(t.draft,!0);return t.finalizing=!1,r}return P(e)}b(H,(function(e,t){I[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),I.deleteProperty=function(e,t){if(isNaN(parseInt(t)))throw new Error("Immer only supports deleting array indices");return H.deleteProperty.call(this,e[0],t)},I.set=function(e,t,r){if("length"!==t&&isNaN(parseInt(t)))throw new Error("Immer only supports setting array indices and the 'length' property");return H.set.call(this,e[0],t,r,e[0])};var G={};function Z(e){if(!0===e.revoked)throw new Error("Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+JSON.stringify(j(e)))}function $(e){for(var t=e.length-1;t>=0;t--){var r=e[t][d];if(!r.modified)switch(r.type){case i.ES5Array:X(r)&&q(r);break;case i.ES5Object:J(r)&&q(r)}}}function J(e){for(var t=e.base,r=e.draft,n=Object.keys(r),o=n.length-1;o>=0;o--){var a=n[o],i=t[a];if(void 0===i&&!O(t,a))return!0;var c=r[a],s=c&&c[d];if(s?s.base!==i:!k(c,i))return!0}return n.length!==Object.keys(t).length}function X(e){var t=e.draft;if(t.length!==e.base.length)return!0;var r=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!r||r.get)}var Q=function(e){if(!e)throw new Error("Map is not polyfilled");function t(e,t){return this[d]={type:i.Map,parent:t,scope:t?t.scope:D.current,modified:!1,finalized:!1,copy:void 0,assigned:void 0,base:e,draft:this,isManual:!1,revoked:!1},this}v(t,e);var r=t.prototype;return Object.defineProperty(r,"size",{get:function(){return j(this[d]).size},enumerable:!0,configurable:!0}),r.has=function(e){return j(this[d]).has(e)},r.set=function(e,t){var r=this[d];return Z(r),j(r).get(e)!==t&&(ee(r),r.scope.immer.markChanged(r),r.assigned.set(e,!0),r.copy.set(e,t),r.assigned.set(e,!0)),this},r.delete=function(e){if(!this.has(e))return!1;var t=this[d];return Z(t),ee(t),t.scope.immer.markChanged(t),t.assigned.set(e,!1),t.copy.delete(e),!0},r.clear=function(){var e=this[d];return Z(e),ee(e),e.scope.immer.markChanged(e),e.assigned=new Map,e.copy.clear()},r.forEach=function(e,t){var r=this;j(this[d]).forEach((function(n,o,a){e.call(t,r.get(o),o,r)}))},r.get=function(e){var t=this[d];Z(t);var r=j(t).get(e);if(t.finalized||!y(r))return r;if(r!==t.base.get(e))return r;var n=t.scope.immer.createProxy(r,t);return ee(t),t.copy.set(e,n),n},r.keys=function(){return j(this[d]).keys()},r.values=function(){var e,t=this,r=this.keys();return(e={})[h]=function(){return t.values()},e.next=function(){var e=r.next();return e.done?e:{done:!1,value:t.get(e.value)}},e},r.entries=function(){var e,t=this,r=this.keys();return(e={})[h]=function(){return t.entries()},e.next=function(){var e=r.next();if(e.done)return e;var n=t.get(e.value);return{done:!1,value:[e.value,n]}},e},r[h]=function(){return this.entries()},t}(Map);function ee(e){e.copy||(e.assigned=new Map,e.copy=new Map(e.base))}var te=function(e){if(!e)throw new Error("Set is not polyfilled");function t(e,t){return this[d]={type:i.Set,parent:t,scope:t?t.scope:D.current,modified:!1,finalized:!1,copy:void 0,base:e,draft:this,drafts:new Map,revoked:!1,isManual:!1},this}v(t,e);var r=t.prototype;return Object.defineProperty(r,"size",{get:function(){return j(this[d]).size},enumerable:!0,configurable:!0}),r.has=function(e){var t=this[d];return Z(t),t.copy?!!t.copy.has(e)||!(!t.drafts.has(e)||!t.copy.has(t.drafts.get(e))):t.base.has(e)},r.add=function(e){var t=this[d];return Z(t),t.copy?t.copy.add(e):t.base.has(e)||(re(t),t.scope.immer.markChanged(t),t.copy.add(e)),this},r.delete=function(e){if(!this.has(e))return!1;var t=this[d];return Z(t),re(t),t.scope.immer.markChanged(t),t.copy.delete(e)||!!t.drafts.has(e)&&t.copy.delete(t.drafts.get(e))},r.clear=function(){var e=this[d];return Z(e),re(e),e.scope.immer.markChanged(e),e.copy.clear()},r.values=function(){var e=this[d];return Z(e),re(e),e.copy.values()},r.entries=function(){var e=this[d];return Z(e),re(e),e.copy.entries()},r.keys=function(){return this.values()},r[h]=function(){return this.values()},r.forEach=function(e,t){for(var r=this.values(),n=r.next();!n.done;)e.call(t,n.value,n.value,this),n=r.next()},t}(Set);function re(e){e.copy||(e.copy=new Set,e.base.forEach((function(t){if(y(t)){var r=e.scope.immer.createProxy(t,e);e.drafts.set(t,r),e.copy.add(r)}else e.copy.add(t)})))}function ne(e,t){return t.forEach((function(t){var r=t.path,o=t.op;r.length||C();for(var i=e,c=0;c<r.length-1;c++)if(!(i=S(i,r[c]))||"object"!==n(i))throw new Error("Cannot apply patch, path doesn't resolve: "+r.join("/"));var s=w(i),u=oe(t.value),l=r[r.length-1];switch(o){case"replace":switch(s){case a.Map:return i.set(l,u);case a.Set:throw new Error('Sets cannot have "replace" patches.');default:return i[l]=u}case"add":switch(s){case a.Array:return i.splice(l,0,u);case a.Map:return i.set(l,u);case a.Set:return i.add(u);default:return i[l]=u}case"remove":switch(s){case a.Array:return i.splice(l,1);case a.Map:return i.delete(l);case a.Set:return i.delete(t.value);default:return delete i[l]}default:throw new Error("Unsupported patch operation: "+o)}})),e}function oe(e){if(!e||"object"!==n(e))return e;if(Array.isArray(e))return e.map(oe);if(x(e))return new Map(Array.from(e.entries()).map((function(e){return[e[0],oe(e[1])]})));if(E(e))return new Set(Array.from(e).map(oe));var t=Object.create(Object.getPrototypeOf(e));for(var r in e)t[r]=oe(e[r]);return t}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function ae(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var a=arguments[t],i=0,c=a.length;i<c;i++,o++)n[o]=a[i];return n}var ie={useProxies:"undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,autoFreeze:void 0===e&&"verifyMinified"===function(){}.name,onAssign:null,onDelete:null,onCopy:null},ce=new(function(){function e(e){var t=this;this.useProxies=!1,this.autoFreeze=!1,b(ie,(function(r,n){var o,a;t[r]=null!=(a=null===(o=e)||void 0===o?void 0:o[r])?a:n})),this.setUseProxies(this.useProxies),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}return e.prototype.produce=function(e,t,r){var n,o=this;if("function"==typeof e&&"function"!=typeof t){var a=t;t=e;var i=this;return function(e){var r=arguments,n=this;void 0===e&&(e=a);for(var o=[],c=1;c<arguments.length;c++)o[c-1]=r[c];return i.produce(e,(function(e){return t.call.apply(t,ae([n,e],o))}))}}if("function"!=typeof t)throw new Error("The first or second argument to `produce` must be a function");if(void 0!==r&&"function"!=typeof r)throw new Error("The third argument to `produce` must be a function or undefined");if(y(e)){var c=D.enter(this),s=this.createProxy(e,void 0),u=!0;try{n=t(s),u=!1}finally{u?c.revoke():c.leave()}return"undefined"!=typeof Promise&&n instanceof Promise?n.then((function(e){return c.usePatches(r),N(o,e,c)}),(function(e){throw c.revoke(),e})):(c.usePatches(r),N(this,n,c))}if((n=t(e))!==l)return void 0===n&&(n=e),z(this,n,!0),n},e.prototype.produceWithPatches=function(e,t,r){var n,o,a=this;return"function"==typeof e?function(t){for(var r=arguments,n=[],o=1;o<arguments.length;o++)n[o-1]=r[o];return a.produceWithPatches(t,(function(t){return e.apply(void 0,ae([t],n))}))}:(r&&C(),[this.produce(e,t,(function(e,t){n=e,o=t})),n,o])},e.prototype.createDraft=function(e){if(!y(e))throw new Error("First argument to `createDraft` must be a plain object, an array, or an immerable object");var t=D.enter(this),r=this.createProxy(e,void 0);return r[d].isManual=!0,t.leave(),r},e.prototype.finishDraft=function(e,t){var r=e&&e[d];if(!r||!r.isManual)throw new Error("First argument to `finishDraft` must be a draft returned by `createDraft`");if(r.finalized)throw new Error("The given draft is already finalized");var n=r.scope;return n.usePatches(t),N(this,void 0,n)},e.prototype.setAutoFreeze=function(e){this.autoFreeze=e},e.prototype.setUseProxies=function(e){this.useProxies=e},e.prototype.applyPatches=function(e,t){var r;for(r=t.length-1;r>=0;r--){var n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}return m(e)?ne(e,t):this.produce(e,(function(e){return ne(e,t.slice(r+1))}))},e.prototype.createProxy=function(e,t){var r=x(e)?function(e,t){return new Q(e,t)}(e,t):E(e)?function(e,t){return new te(e,t)}(e,t):this.useProxies?function(e,t){var r=Array.isArray(e),n={type:r?i.ProxyArray:i.ProxyObject,scope:t?t.scope:D.current,modified:!1,finalized:!1,assigned:{},parent:t,base:e,draft:null,drafts:{},copy:null,revoke:null,isManual:!1},o=n,a=H;r&&(o=[n],a=I);var c=Proxy.revocable(o,a),s=c.revoke,u=c.proxy;return n.draft=u,n.revoke=s,u}(e,t):W(e,t);return(t?t.scope:D.current).drafts.push(r),r},e.prototype.willFinalize=function(e,t,r){this.useProxies||U(e,t,r)},e.prototype.markChanged=function(e){this.useProxies?B(e):q(e)},e}()),se=ce.produce,ue=(ce.produceWithPatches.bind(ce),ce.setAutoFreeze.bind(ce),ce.setUseProxies.bind(ce),ce.applyPatches.bind(ce),ce.createDraft.bind(ce)),le=ce.finishDraft.bind(ce)}).call(this,r(11))},function(e,t){e.exports=n},function(e,t){e.exports=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scrollbars=void 0;var n,o=r(25),a=(n=o)&&n.__esModule?n:{default:n};t.default=a.default,t.Scrollbars=a.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});for(var n="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),o={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},a={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:n?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},i={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},c=1;c<20;c++)i["f"+c]=111+c;function s(e,t,r){t&&!("byKey"in t)&&(r=t,t=null),Array.isArray(e)||(e=[e]);var n=e.map((function(e){return u(e,t)})),o=function(e){return n.some((function(t){return l(t,e)}))};return null==r?o:o(r)}function u(e,t){var r=t&&t.byKey,n={},a=(e=e.replace("++","+add")).split("+"),i=a.length;for(var c in o)n[o[c]]=!1;var s=!0,u=!1,l=void 0;try{for(var h,p=a[Symbol.iterator]();!(s=(h=p.next()).done);s=!0){var v=h.value,m=v.endsWith("?")&&v.length>1;m&&(v=v.slice(0,-1));var y=d(v),g=o[y];1!==i&&g||(r?n.key=y:n.which=f(v)),g&&(n[g]=!m||null)}}catch(e){u=!0,l=e}finally{try{!s&&p.return&&p.return()}finally{if(u)throw l}}return n}function l(e,t){for(var r in e){var n=e[r],o=void 0;if(null!=n&&((null!=(o="key"===r&&null!=t.key?t.key.toLowerCase():"which"===r?91===n&&93===t.which?91:t.which:t[r])||!1!==n)&&o!==n))return!1}return!0}function f(e){return e=d(e),i[e]||e.toUpperCase().charCodeAt(0)}function d(e){return e=e.toLowerCase(),e=a[e]||e}t.default=s,t.isHotkey=s,t.isCodeHotkey=function(e,t){return s(e,t)},t.isKeyHotkey=function(e,t){return s(e,{byKey:!0},t)},t.parseHotkey=u,t.compareHotkey=l,t.toKeyCode=f,t.toKeyName=d},function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":r(window))&&(n=window)}e.exports=n},function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e){var t=r(e);return null!=e&&("object"==t||"function"==t)}},function(e,t,r){"use strict";var n=function(e,t){if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");t=Object.assign({pascalCase:!1},t);var r;return 0===(e=Array.isArray(e)?e.map((function(e){return e.trim()})).filter((function(e){return e.length})).join("-"):e.trim()).length?"":1===e.length?t.pascalCase?e.toUpperCase():e.toLowerCase():(e!==e.toLowerCase()&&(e=function(e){for(var t=!1,r=!1,n=!1,o=0;o<e.length;o++){var a=e[o];t&&/[a-zA-Z]/.test(a)&&a.toUpperCase()===a?(e=e.slice(0,o)+"-"+e.slice(o),t=!1,n=r,r=!0,o++):r&&n&&/[a-zA-Z]/.test(a)&&a.toLowerCase()===a?(e=e.slice(0,o-1)+"-"+e.slice(o-1),n=r,r=!1,t=!0):(t=a.toLowerCase()===a&&a.toUpperCase()!==a,n=r,r=a.toUpperCase()===a&&a.toLowerCase()!==a)}return e}(e)),e=e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(function(e,t){return t.toUpperCase()})).replace(/\d+(\w|$)/g,(function(e){return e.toUpperCase()})),r=e,t.pascalCase?r.charAt(0).toUpperCase()+r.slice(1):r)};e.exports=n,e.exports.default=n},function(e,t){var r,n,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function c(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var s,u=[],l=!1,f=-1;function d(){l&&s&&(l=!1,s.length?u=s.concat(u):f=-1,u.length&&h())}function h(){if(!l){var e=c(d);l=!0;for(var t=u.length;t;){for(s=u,u=[];++f<t;)s&&s[f].run();f=-1,t=u.length}s=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new p(e,t)),1!==u.length||l||c(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){var n=r(28),o=r(29),a={float:"cssFloat"},i=r(32);function c(e,t,r){var c=a[t];if(void 0===c&&(c=function(e){var t=o(e),r=n(t);return a[t]=a[e]=a[r]=r,r}(t)),c){if(void 0===r)return e.style[c];e.style[c]=i(c,r)}}function s(e,t){for(var r in t)t.hasOwnProperty(r)&&c(e,r,t[r])}function u(){2===arguments.length?"string"==typeof arguments[1]?arguments[0].style.cssText=arguments[1]:s(arguments[0],arguments[1]):c(arguments[0],arguments[1],arguments[2])}e.exports=u,e.exports.set=u,e.exports.get=function(e,t){return Array.isArray(t)?t.reduce((function(t,r){return t[r]=c(e,r||""),t}),{}):c(e,t||"")}},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=r(42),a="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,i=o||a||Function("return this")();e.exports=i},function(e,t,r){var n=r(13).Symbol;e.exports=n},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,r){var n=r(23),o=r(24);e.exports=function(e,t,r){var a=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||n)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var c=0;c<16;++c)t[a+c]=i[c];return t||o(i)}},function(e,t,r){var n=r(40),o=r(9);e.exports=function(e,t,r){var a=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(r)&&(a="leading"in r?!!r.leading:a,i="trailing"in r?!!r.trailing:i),n(e,t,{leading:a,maxWait:t,trailing:i})}},function(e,t,r){"use strict";e.exports=function(e){if(e=String(e||""),o.test(e))return"rtl";if(a.test(e))return"ltr";return"neutral"};var n="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",o=new RegExp("^[^"+n+"]*[֑-߿יִ-﷽ﹰ-ﻼ]"),a=new RegExp("^[^֑-߿יִ-﷽ﹰ-ﻼ]*["+n+"]")},function(e,t){e.exports=a},function(e,t,r){(function(e,n){var o;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*! https://mths.be/esrever v0.2.0 by @mathias */!function(i){var c="object"==a(t)&&t,s="object"==a(e)&&e&&e.exports==c&&e,u="object"==(void 0===n?"undefined":a(n))&&n;u.global!==u&&u.window!==u||(i=u);var l=/([\0-\u02FF\u0370-\u1AAF\u1B00-\u1DBF\u1E00-\u20CF\u2100-\uD7FF\uE000-\uFE1F\uFE30-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])([\u0300-\u036F\u1AB0-\u1AFF\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]+)/g,f=/([\uD800-\uDBFF])([\uDC00-\uDFFF])/g,d={version:"0.2.0",reverse:function e(t){for(var r="",n=(t=t.replace(l,(function(t,r,n){return e(n)+r})).replace(f,"$2$1")).length;n--;)r+=t.charAt(n);return r}};if("object"==a(r(15))&&r(15))void 0===(o=function(){return d}.call(t,r,t,e))||(e.exports=o);else if(c&&!c.nodeType)if(s)s.exports=d;else for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h]);else i.esrever=d}(this)}).call(this,r(49)(e),r(8))},function(e,t){e.exports=i},function(e,t,r){r(50)},function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);e.exports=function(){return r(n),n}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,o=r;return[o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]]].join("")}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(26),c=g(i),s=g(r(12)),u=r(0),l=g(r(4)),f=g(r(33)),d=g(r(34)),h=g(r(35)),p=g(r(36)),v=g(r(37)),m=r(38),y=r(39);function g(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==n(t)&&"function"!=typeof t?e:t}var O=function(e){function t(e){var r;b(this,t);for(var n=arguments.length,o=Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];var i=w(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this,e].concat(o)));return i.getScrollLeft=i.getScrollLeft.bind(i),i.getScrollTop=i.getScrollTop.bind(i),i.getScrollWidth=i.getScrollWidth.bind(i),i.getScrollHeight=i.getScrollHeight.bind(i),i.getClientWidth=i.getClientWidth.bind(i),i.getClientHeight=i.getClientHeight.bind(i),i.getValues=i.getValues.bind(i),i.getThumbHorizontalWidth=i.getThumbHorizontalWidth.bind(i),i.getThumbVerticalHeight=i.getThumbVerticalHeight.bind(i),i.getScrollLeftForOffset=i.getScrollLeftForOffset.bind(i),i.getScrollTopForOffset=i.getScrollTopForOffset.bind(i),i.scrollLeft=i.scrollLeft.bind(i),i.scrollTop=i.scrollTop.bind(i),i.scrollToLeft=i.scrollToLeft.bind(i),i.scrollToTop=i.scrollToTop.bind(i),i.scrollToRight=i.scrollToRight.bind(i),i.scrollToBottom=i.scrollToBottom.bind(i),i.handleTrackMouseEnter=i.handleTrackMouseEnter.bind(i),i.handleTrackMouseLeave=i.handleTrackMouseLeave.bind(i),i.handleHorizontalTrackMouseDown=i.handleHorizontalTrackMouseDown.bind(i),i.handleVerticalTrackMouseDown=i.handleVerticalTrackMouseDown.bind(i),i.handleHorizontalThumbMouseDown=i.handleHorizontalThumbMouseDown.bind(i),i.handleVerticalThumbMouseDown=i.handleVerticalThumbMouseDown.bind(i),i.handleWindowResize=i.handleWindowResize.bind(i),i.handleScroll=i.handleScroll.bind(i),i.handleDrag=i.handleDrag.bind(i),i.handleDragEnd=i.handleDragEnd.bind(i),i.state={didMountUniversal:!1},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+n(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){this.addListeners(),this.update(),this.componentDidMountUniversal()}},{key:"componentDidMountUniversal",value:function(){this.props.universal&&this.setState({didMountUniversal:!0})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"componentWillUnmount",value:function(){this.removeListeners(),(0,i.cancel)(this.requestFrame),clearTimeout(this.hideTracksTimeout),clearInterval(this.detectScrollingInterval)}},{key:"getScrollLeft",value:function(){return this.view?this.view.scrollLeft:0}},{key:"getScrollTop",value:function(){return this.view?this.view.scrollTop:0}},{key:"getScrollWidth",value:function(){return this.view?this.view.scrollWidth:0}},{key:"getScrollHeight",value:function(){return this.view?this.view.scrollHeight:0}},{key:"getClientWidth",value:function(){return this.view?this.view.clientWidth:0}},{key:"getClientHeight",value:function(){return this.view?this.view.clientHeight:0}},{key:"getValues",value:function(){var e=this.view||{},t=e.scrollLeft,r=void 0===t?0:t,n=e.scrollTop,o=void 0===n?0:n,a=e.scrollWidth,i=void 0===a?0:a,c=e.scrollHeight,s=void 0===c?0:c,u=e.clientWidth,l=void 0===u?0:u,f=e.clientHeight,d=void 0===f?0:f;return{left:r/(i-l)||0,top:o/(s-d)||0,scrollLeft:r,scrollTop:o,scrollWidth:i,scrollHeight:s,clientWidth:l,clientHeight:d}}},{key:"getThumbHorizontalWidth",value:function(){var e=this.props,t=e.thumbSize,r=e.thumbMinSize,n=this.view,o=n.scrollWidth,a=n.clientWidth,i=(0,p.default)(this.trackHorizontal),c=Math.ceil(a/o*i);return i===c?0:t||Math.max(c,r)}},{key:"getThumbVerticalHeight",value:function(){var e=this.props,t=e.thumbSize,r=e.thumbMinSize,n=this.view,o=n.scrollHeight,a=n.clientHeight,i=(0,v.default)(this.trackVertical),c=Math.ceil(a/o*i);return i===c?0:t||Math.max(c,r)}},{key:"getScrollLeftForOffset",value:function(e){var t=this.view,r=t.scrollWidth,n=t.clientWidth;return e/((0,p.default)(this.trackHorizontal)-this.getThumbHorizontalWidth())*(r-n)}},{key:"getScrollTopForOffset",value:function(e){var t=this.view,r=t.scrollHeight,n=t.clientHeight;return e/((0,v.default)(this.trackVertical)-this.getThumbVerticalHeight())*(r-n)}},{key:"scrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollLeft=e)}},{key:"scrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollTop=e)}},{key:"scrollToLeft",value:function(){this.view&&(this.view.scrollLeft=0)}},{key:"scrollToTop",value:function(){this.view&&(this.view.scrollTop=0)}},{key:"scrollToRight",value:function(){this.view&&(this.view.scrollLeft=this.view.scrollWidth)}},{key:"scrollToBottom",value:function(){this.view&&(this.view.scrollTop=this.view.scrollHeight)}},{key:"addListeners",value:function(){if("undefined"!=typeof document&&this.view){var e=this.view,t=this.trackHorizontal,r=this.trackVertical,n=this.thumbHorizontal,o=this.thumbVertical;e.addEventListener("scroll",this.handleScroll),(0,d.default)()&&(t.addEventListener("mouseenter",this.handleTrackMouseEnter),t.addEventListener("mouseleave",this.handleTrackMouseLeave),t.addEventListener("mousedown",this.handleHorizontalTrackMouseDown),r.addEventListener("mouseenter",this.handleTrackMouseEnter),r.addEventListener("mouseleave",this.handleTrackMouseLeave),r.addEventListener("mousedown",this.handleVerticalTrackMouseDown),n.addEventListener("mousedown",this.handleHorizontalThumbMouseDown),o.addEventListener("mousedown",this.handleVerticalThumbMouseDown),window.addEventListener("resize",this.handleWindowResize))}}},{key:"removeListeners",value:function(){if("undefined"!=typeof document&&this.view){var e=this.view,t=this.trackHorizontal,r=this.trackVertical,n=this.thumbHorizontal,o=this.thumbVertical;e.removeEventListener("scroll",this.handleScroll),(0,d.default)()&&(t.removeEventListener("mouseenter",this.handleTrackMouseEnter),t.removeEventListener("mouseleave",this.handleTrackMouseLeave),t.removeEventListener("mousedown",this.handleHorizontalTrackMouseDown),r.removeEventListener("mouseenter",this.handleTrackMouseEnter),r.removeEventListener("mouseleave",this.handleTrackMouseLeave),r.removeEventListener("mousedown",this.handleVerticalTrackMouseDown),n.removeEventListener("mousedown",this.handleHorizontalThumbMouseDown),o.removeEventListener("mousedown",this.handleVerticalThumbMouseDown),window.removeEventListener("resize",this.handleWindowResize),this.teardownDragging())}}},{key:"handleScroll",value:function(e){var t=this,r=this.props,n=r.onScroll,o=r.onScrollFrame;n&&n(e),this.update((function(e){var r=e.scrollLeft,n=e.scrollTop;t.viewScrollLeft=r,t.viewScrollTop=n,o&&o(e)})),this.detectScrolling()}},{key:"handleScrollStart",value:function(){var e=this.props.onScrollStart;e&&e(),this.handleScrollStartAutoHide()}},{key:"handleScrollStartAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleScrollStop",value:function(){var e=this.props.onScrollStop;e&&e(),this.handleScrollStopAutoHide()}},{key:"handleScrollStopAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleWindowResize",value:function(){this.update()}},{key:"handleHorizontalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,r=e.clientX,n=t.getBoundingClientRect().left,o=this.getThumbHorizontalWidth(),a=Math.abs(n-r)-o/2;this.view.scrollLeft=this.getScrollLeftForOffset(a)}},{key:"handleVerticalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,r=e.clientY,n=t.getBoundingClientRect().top,o=this.getThumbVerticalHeight(),a=Math.abs(n-r)-o/2;this.view.scrollTop=this.getScrollTopForOffset(a)}},{key:"handleHorizontalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,r=e.clientX,n=t.offsetWidth,o=t.getBoundingClientRect().left;this.prevPageX=n-(r-o)}},{key:"handleVerticalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,r=e.clientY,n=t.offsetHeight,o=t.getBoundingClientRect().top;this.prevPageY=n-(r-o)}},{key:"setupDragging",value:function(){(0,s.default)(document.body,m.disableSelectStyle),document.addEventListener("mousemove",this.handleDrag),document.addEventListener("mouseup",this.handleDragEnd),document.onselectstart=h.default}},{key:"teardownDragging",value:function(){(0,s.default)(document.body,m.disableSelectStyleReset),document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleDragEnd),document.onselectstart=void 0}},{key:"handleDragStart",value:function(e){this.dragging=!0,e.stopImmediatePropagation(),this.setupDragging()}},{key:"handleDrag",value:function(e){if(this.prevPageX){var t=e.clientX,r=-this.trackHorizontal.getBoundingClientRect().left+t-(this.getThumbHorizontalWidth()-this.prevPageX);this.view.scrollLeft=this.getScrollLeftForOffset(r)}if(this.prevPageY){var n=e.clientY,o=-this.trackVertical.getBoundingClientRect().top+n-(this.getThumbVerticalHeight()-this.prevPageY);this.view.scrollTop=this.getScrollTopForOffset(o)}return!1}},{key:"handleDragEnd",value:function(){this.dragging=!1,this.prevPageX=this.prevPageY=0,this.teardownDragging(),this.handleDragEndAutoHide()}},{key:"handleDragEndAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleTrackMouseEnter",value:function(){this.trackMouseOver=!0,this.handleTrackMouseEnterAutoHide()}},{key:"handleTrackMouseEnterAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleTrackMouseLeave",value:function(){this.trackMouseOver=!1,this.handleTrackMouseLeaveAutoHide()}},{key:"handleTrackMouseLeaveAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"showTracks",value:function(){clearTimeout(this.hideTracksTimeout),(0,s.default)(this.trackHorizontal,{opacity:1}),(0,s.default)(this.trackVertical,{opacity:1})}},{key:"hideTracks",value:function(){var e=this;if(!this.dragging&&!this.scrolling&&!this.trackMouseOver){var t=this.props.autoHideTimeout;clearTimeout(this.hideTracksTimeout),this.hideTracksTimeout=setTimeout((function(){(0,s.default)(e.trackHorizontal,{opacity:0}),(0,s.default)(e.trackVertical,{opacity:0})}),t)}}},{key:"detectScrolling",value:function(){var e=this;this.scrolling||(this.scrolling=!0,this.handleScrollStart(),this.detectScrollingInterval=setInterval((function(){e.lastViewScrollLeft===e.viewScrollLeft&&e.lastViewScrollTop===e.viewScrollTop&&(clearInterval(e.detectScrollingInterval),e.scrolling=!1,e.handleScrollStop()),e.lastViewScrollLeft=e.viewScrollLeft,e.lastViewScrollTop=e.viewScrollTop}),100))}},{key:"raf",value:function(e){var t=this;this.requestFrame&&c.default.cancel(this.requestFrame),this.requestFrame=(0,c.default)((function(){t.requestFrame=void 0,e()}))}},{key:"update",value:function(e){var t=this;this.raf((function(){return t._update(e)}))}},{key:"_update",value:function(e){var t=this.props,r=t.onUpdate,n=t.hideTracksWhenNotNeeded,o=this.getValues();if((0,d.default)()){var a=o.scrollLeft,i=o.clientWidth,c=o.scrollWidth,u=(0,p.default)(this.trackHorizontal),l=this.getThumbHorizontalWidth(),f={width:l,transform:"translateX("+a/(c-i)*(u-l)+"px)"},h=o.scrollTop,m=o.clientHeight,y=o.scrollHeight,g=(0,v.default)(this.trackVertical),b=this.getThumbVerticalHeight(),w={height:b,transform:"translateY("+h/(y-m)*(g-b)+"px)"};if(n){var O={visibility:c>i?"visible":"hidden"},S={visibility:y>m?"visible":"hidden"};(0,s.default)(this.trackHorizontal,O),(0,s.default)(this.trackVertical,S)}(0,s.default)(this.thumbHorizontal,f),(0,s.default)(this.thumbVertical,w)}r&&r(o),"function"==typeof e&&e(o)}},{key:"render",value:function(){var e=this,t=(0,d.default)(),r=this.props,n=(r.onScroll,r.onScrollFrame,r.onScrollStart,r.onScrollStop,r.onUpdate,r.renderView),a=r.renderTrackHorizontal,i=r.renderTrackVertical,c=r.renderThumbHorizontal,s=r.renderThumbVertical,l=r.tagName,h=(r.hideTracksWhenNotNeeded,r.autoHide),p=(r.autoHideTimeout,r.autoHideDuration),v=(r.thumbSize,r.thumbMinSize,r.universal),y=r.autoHeight,g=r.autoHeightMin,b=r.autoHeightMax,w=r.style,O=r.children,S=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(r,["onScroll","onScrollFrame","onScrollStart","onScrollStop","onUpdate","renderView","renderTrackHorizontal","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","tagName","hideTracksWhenNotNeeded","autoHide","autoHideTimeout","autoHideDuration","thumbSize","thumbMinSize","universal","autoHeight","autoHeightMin","autoHeightMax","style","children"]),k=this.state.didMountUniversal,x=o({},m.containerStyleDefault,y&&o({},m.containerStyleAutoHeight,{minHeight:g,maxHeight:b}),w),E=o({},m.viewStyleDefault,{marginRight:t?-t:0,marginBottom:t?-t:0},y&&o({},m.viewStyleAutoHeight,{minHeight:(0,f.default)(g)?"calc("+g+" + "+t+"px)":g+t,maxHeight:(0,f.default)(b)?"calc("+b+" + "+t+"px)":b+t}),y&&v&&!k&&{minHeight:g,maxHeight:b},v&&!k&&m.viewStyleUniversalInitial),j={transition:"opacity "+p+"ms",opacity:0},P=o({},m.trackHorizontalStyleDefault,h&&j,(!t||v&&!k)&&{display:"none"}),T=o({},m.trackVerticalStyleDefault,h&&j,(!t||v&&!k)&&{display:"none"});return(0,u.createElement)(l,o({},S,{style:x,ref:function(t){e.container=t}}),[(0,u.cloneElement)(n({style:E}),{key:"view",ref:function(t){e.view=t}},O),(0,u.cloneElement)(a({style:P}),{key:"trackHorizontal",ref:function(t){e.trackHorizontal=t}},(0,u.cloneElement)(c({style:m.thumbHorizontalStyleDefault}),{ref:function(t){e.thumbHorizontal=t}})),(0,u.cloneElement)(i({style:T}),{key:"trackVertical",ref:function(t){e.trackVertical=t}},(0,u.cloneElement)(s({style:m.thumbVerticalStyleDefault}),{ref:function(t){e.thumbVertical=t}}))])}}]),t}(u.Component);t.default=O,O.propTypes={onScroll:l.default.func,onScrollFrame:l.default.func,onScrollStart:l.default.func,onScrollStop:l.default.func,onUpdate:l.default.func,renderView:l.default.func,renderTrackHorizontal:l.default.func,renderTrackVertical:l.default.func,renderThumbHorizontal:l.default.func,renderThumbVertical:l.default.func,tagName:l.default.string,thumbSize:l.default.number,thumbMinSize:l.default.number,hideTracksWhenNotNeeded:l.default.bool,autoHide:l.default.bool,autoHideTimeout:l.default.number,autoHideDuration:l.default.number,autoHeight:l.default.bool,autoHeightMin:l.default.oneOfType([l.default.number,l.default.string]),autoHeightMax:l.default.oneOfType([l.default.number,l.default.string]),universal:l.default.bool,style:l.default.object,children:l.default.node},O.defaultProps={renderView:y.renderViewDefault,renderTrackHorizontal:y.renderTrackHorizontalDefault,renderTrackVertical:y.renderTrackVerticalDefault,renderThumbHorizontal:y.renderThumbHorizontalDefault,renderThumbVertical:y.renderThumbVerticalDefault,tagName:"div",thumbMinSize:30,hideTracksWhenNotNeeded:!1,autoHide:!1,autoHideTimeout:1e3,autoHideDuration:200,autoHeight:!1,autoHeightMin:0,autoHeightMax:200,universal:!1}},function(e,t,r){(function(t){for(var n=r(27),o="undefined"==typeof window?t:window,a=["moz","webkit"],i="AnimationFrame",c=o["request"+i],s=o["cancel"+i]||o["cancelRequest"+i],u=0;!c&&u<a.length;u++)c=o[a[u]+"Request"+i],s=o[a[u]+"Cancel"+i]||o[a[u]+"CancelRequest"+i];if(!c||!s){var l=0,f=0,d=[];c=function(e){if(0===d.length){var t=n(),r=Math.max(0,1e3/60-(t-l));l=r+t,setTimeout((function(){var e=d.slice(0);d.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(l)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(r))}return d.push({handle:++f,callback:e,cancelled:!1}),f},s=function(e){for(var t=0;t<d.length;t++)d[t].handle===e&&(d[t].cancelled=!0)}}e.exports=function(e){return c.call(o,e)},e.exports.cancel=function(){s.apply(o,arguments)},e.exports.polyfill=function(e){e||(e=o),e.requestAnimationFrame=c,e.cancelAnimationFrame=s}}).call(this,r(8))},function(e,t,r){(function(t){(function(){var r,n,o,a,i,c;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(r()-i)/1e6},n=t.hrtime,a=(r=function(){var e;return 1e9*(e=n())[0]+e[1]})(),c=1e9*t.uptime(),i=a-c):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(this,r(11))},function(e,t){var r=null,n=["Webkit","Moz","O","ms"];e.exports=function(e){r||(r=document.createElement("div"));var t=r.style;if(e in t)return e;for(var o=e.charAt(0).toUpperCase()+e.slice(1),a=n.length;a>=0;a--){var i=n[a]+o;if(i in t)return i}return!1}},function(e,t,r){var n=r(30);e.exports=function(e){return n(e).replace(/\s(\w)/g,(function(e,t){return t.toUpperCase()}))}},function(e,t,r){var n=r(31);e.exports=function(e){return n(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""})).trim()}},function(e,t){e.exports=function(e){return r.test(e)?e.toLowerCase():n.test(e)?(function(e){return e.replace(a,(function(e,t){return t?" "+t:""}))}(e)||e).toLowerCase():o.test(e)?function(e){return e.replace(i,(function(e,t,r){return t+" "+r.toLowerCase().split("").join(" ")}))}(e).toLowerCase():e.toLowerCase()};var r=/\s/,n=/(_|-|\.|:)/,o=/([a-z][A-Z]|[A-Z][a-z])/;var a=/[\W_]+(.|$)/g;var i=/(.)([A-Z]+)/g},function(e,t){var r={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};e.exports=function(e,t){return"number"!=typeof t||r[e]?t:t+"px"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"==typeof e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!1!==i)return i;if("undefined"!=typeof document){var e=document.createElement("div");(0,a.default)(e,{width:100,height:100,position:"absolute",top:-9999,overflow:"scroll",MsOverflowStyle:"scrollbar"}),document.body.appendChild(e),i=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}else i=0;return i||0};var n,o=r(12),a=(n=o)&&n.__esModule?n:{default:n};var i=!1},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return!1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.clientWidth,r=getComputedStyle(e),n=r.paddingLeft,o=r.paddingRight;return t-parseFloat(n)-parseFloat(o)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.clientHeight,r=getComputedStyle(e),n=r.paddingTop,o=r.paddingBottom;return t-parseFloat(n)-parseFloat(o)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.containerStyleDefault={position:"relative",overflow:"hidden",width:"100%",height:"100%"},t.containerStyleAutoHeight={height:"auto"},t.viewStyleDefault={position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"},t.viewStyleAutoHeight={position:"relative",top:void 0,left:void 0,right:void 0,bottom:void 0},t.viewStyleUniversalInitial={overflow:"hidden",marginRight:0,marginBottom:0},t.trackHorizontalStyleDefault={position:"absolute",height:6},t.trackVerticalStyleDefault={position:"absolute",width:6},t.thumbHorizontalStyleDefault={position:"relative",display:"block",height:"100%"},t.thumbVerticalStyleDefault={position:"relative",display:"block",width:"100%"},t.disableSelectStyle={userSelect:"none"},t.disableSelectStyleReset={userSelect:""}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.renderViewDefault=function(e){return i.default.createElement("div",e)},t.renderTrackHorizontalDefault=function(e){var t=e.style,r=c(e,["style"]),o=n({},t,{right:2,bottom:2,left:2,borderRadius:3});return i.default.createElement("div",n({style:o},r))},t.renderTrackVerticalDefault=function(e){var t=e.style,r=c(e,["style"]),o=n({},t,{right:2,bottom:2,top:2,borderRadius:3});return i.default.createElement("div",n({style:o},r))},t.renderThumbHorizontalDefault=function(e){var t=e.style,r=c(e,["style"]),o=n({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return i.default.createElement("div",n({style:o},r))},t.renderThumbVerticalDefault=function(e){var t=e.style,r=c(e,["style"]),o=n({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return i.default.createElement("div",n({style:o},r))};var o,a=r(0),i=(o=a)&&o.__esModule?o:{default:o};function c(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}},function(e,t,r){var n=r(9),o=r(41),a=r(43),i=Math.max,c=Math.min;e.exports=function(e,t,r){var s,u,l,f,d,h,p=0,v=!1,m=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var r=s,n=u;return s=u=void 0,p=t,f=e.apply(n,r)}function b(e){return p=e,d=setTimeout(O,t),v?g(e):f}function w(e){var r=e-h;return void 0===h||r>=t||r<0||m&&e-p>=l}function O(){var e=o();if(w(e))return S(e);d=setTimeout(O,function(e){var r=t-(e-h);return m?c(r,l-(e-p)):r}(e))}function S(e){return d=void 0,y&&s?g(e):(s=u=void 0,f)}function k(){var e=o(),r=w(e);if(s=arguments,u=this,h=e,r){if(void 0===d)return b(h);if(m)return clearTimeout(d),d=setTimeout(O,t),g(h)}return void 0===d&&(d=setTimeout(O,t)),f}return t=a(t)||0,n(r)&&(v=!!r.leading,l=(m="maxWait"in r)?i(a(r.maxWait)||0,t):l,y="trailing"in r?!!r.trailing:y),k.cancel=function(){void 0!==d&&clearTimeout(d),p=0,s=h=u=d=void 0},k.flush=function(){return void 0===d?f:S(o())},k}},function(e,t,r){var n=r(13);e.exports=function(){return n.Date.now()}},function(e,t,r){(function(t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n="object"==(void 0===t?"undefined":r(t))&&t&&t.Object===Object&&t;e.exports=n}).call(this,r(8))},function(e,t,r){var n=r(9),o=r(44),a=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var r=c.test(e);return r||s.test(e)?u(e.slice(2),r?2:8):i.test(e)?NaN:+e}},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=r(45),a=r(48);e.exports=function(e){return"symbol"==n(e)||a(e)&&"[object Symbol]"==o(e)}},function(e,t,r){var n=r(14),o=r(46),a=r(47),i=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?o(e):a(e)}},function(e,t,r){var n=r(14),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,c=n?n.toStringTag:void 0;e.exports=function(e){var t=a.call(e,c),r=e[c];try{e[c]=void 0;var n=!0}catch(e){}var o=i.call(e);return n&&(t?e[c]=r:delete e[c]),o}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e){return null!=e&&"object"==r(e)}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),a=r(5),i=r.n(a),c=r(16),s=r.n(c),u=r(2),l=r.n(u),f=r(4),d=r.n(f);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
function p(e){return!0==(null!=(t=e)&&"object"===h(t)&&!1===Array.isArray(t))&&"[object Object]"===Object.prototype.toString.call(e);var t}var v=function(e){var t,r;return!1!==p(e)&&("function"==typeof(t=e.constructor)&&(!1!==p(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")))},m=r(3),y=r(20);function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||S(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}(e,t)||S(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=S(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function S(e,t){if(e){if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var j=new WeakMap,P=(new WeakMap,new WeakMap),T=new WeakMap,A=new WeakMap,C=new WeakMap,D=/\s/,F=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,N=/['\u2018\u2019]/,R=function(e){for(var t=0,r=null,n=e.charCodeAt(0);n;)if(H(n)){var o=I(n,e,t);if("SURR"===r||"BMP"===r)break;t+=2,r=o?"MOD":"SURR",n=e.charCodeAt(t)}else if(8205!==n)if(B(n)){if(r&&"ZWJ"!==r&&"VAR"!==r)break;t+=1,r="BMP",n=e.charCodeAt(t)}else{if(!_(n)){if("MOD"===r){t+=1;break}break}if(r&&"ZWJ"!==r)break;t+=1,r="VAR",n=e.charCodeAt(t)}else t+=1,r="ZWJ",n=e.charCodeAt(t);return t||1},M=function(e){for(var t,r=0,n=0,o=!1;t=e.charAt(n);){var a=R(t);t=e.slice(n,n+a);var i=e.slice(n+a);if(z(t,i))o=!0,r+=a;else{if(o)break;r+=a}n+=a}return r},z=function e(t,r){if(D.test(t))return!1;if(N.test(t)){var n=r.charAt(0),o=R(n);if(e(n=r.slice(0,o),r.slice(o)))return!0}return!F.test(t)},H=function(e){return 55296<=e&&e<=57343},I=function(e,t,r){if(55356===e){var n=t.charCodeAt(r+1);return n<=57343&&n>=57339}return!1},_=function(e){return e<=65039&&e>=65024},B=function(e){return 10084===e||9794===e||9792===e||9760===e||9877===e||9992===e||9711===e};function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var W={above:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.voids,n=void 0!==r&&r,o=t.mode,a=void 0===o?"lowest":o,i=t.at,c=void 0===i?e.selection:i,s=t.match;if(c){var u,l=W.path(e,c),f="lowest"===a,d=O(W.levels(e,{at:l,voids:n,match:s,reverse:f}));try{for(d.s();!(u=d.n()).done;){var h=w(u.value,2),p=h[0],v=h[1];if(!oe.isText(p)&&!$.equals(l,v))return[p,v]}}catch(e){d.e(e)}finally{d.f()}}},addMark:function(e,t,r){e.addMark(t,r)},after:function(e,t){var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=W.point(e,t,{edge:"end"}),i=W.end(e,[]),c={anchor:a,focus:i},s=o.distance,u=void 0===s?1:s,l=0,f=O(W.positions(e,U({},o,{at:c})));try{for(f.s();!(n=f.n()).done;){var d=n.value;if(l>u)break;0!==l&&(r=d),l++}}catch(e){f.e(e)}finally{f.f()}return r},before:function(e,t){var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=W.start(e,[]),i=W.point(e,t,{edge:"start"}),c={anchor:a,focus:i},s=o.distance,u=void 0===s?1:s,l=0,f=O(W.positions(e,U({},o,{at:c,reverse:!0})));try{for(f.s();!(n=f.n()).done;){var d=n.value;if(l>u)break;0!==l&&(r=d),l++}}catch(e){f.e(e)}finally{f.f()}return r},deleteBackward:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.unit,n=void 0===r?"character":r;e.deleteBackward(n)},deleteForward:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.unit,n=void 0===r?"character":r;e.deleteForward(n)},deleteFragment:function(e){e.deleteFragment()},edges:function(e,t){return[W.start(e,t),W.end(e,t)]},end:function(e,t){return W.point(e,t,{edge:"end"})},first:function(e,t){var r=W.path(e,t,{edge:"start"});return W.node(e,r)},fragment:function(e,t){var r=W.range(e,t),n=Y.fragment(e,r);return n},hasBlocks:function(e,t){return t.children.some((function(t){return W.isBlock(e,t)}))},hasInlines:function(e,t){return t.children.some((function(t){return oe.isText(t)||W.isInline(e,t)}))},hasTexts:function(e,t){return t.children.every((function(e){return oe.isText(e)}))},insertBreak:function(e){e.insertBreak()},insertFragment:function(e,t){e.insertFragment(t)},insertNode:function(e,t){e.insertNode(t)},insertText:function(e,t){e.insertText(t)},isBlock:function(e,t){return V.isElement(t)&&!e.isInline(t)},isEditor:function(e){return v(e)&&"function"==typeof e.addMark&&"function"==typeof e.apply&&"function"==typeof e.deleteBackward&&"function"==typeof e.deleteForward&&"function"==typeof e.deleteFragment&&"function"==typeof e.insertBreak&&"function"==typeof e.insertFragment&&"function"==typeof e.insertNode&&"function"==typeof e.insertText&&"function"==typeof e.isInline&&"function"==typeof e.isVoid&&"function"==typeof e.normalizeNode&&"function"==typeof e.onChange&&"function"==typeof e.removeMark&&(null===e.marks||v(e.marks))&&(null===e.selection||te.isRange(e.selection))&&Y.isNodeList(e.children)&&Z.isOperationList(e.operations)},isEnd:function(e,t,r){var n=W.end(e,r);return Q.equals(t,n)},isEdge:function(e,t,r){return W.isStart(e,t,r)||W.isEnd(e,t,r)},isEmpty:function(e,t){var r=t.children,n=w(r,1)[0];return 0===r.length||1===r.length&&oe.isText(n)&&""===n.text&&!e.isVoid(t)},isInline:function(e,t){return V.isElement(t)&&e.isInline(t)},isNormalizing:function(e){var t=P.get(e);return void 0===t||t},isStart:function(e,t,r){if(0!==t.offset)return!1;var n=W.start(e,r);return Q.equals(t,n)},isVoid:function(e,t){return V.isElement(t)&&e.isVoid(t)},last:function(e,t){var r=W.path(e,t,{edge:"end"});return W.node(e,r)},leaf:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=W.path(e,t,r),o=Y.leaf(e,n);return[o,n]},levels:regeneratorRuntime.mark((function(e){var t,r,n,o,a,i,c,s,u,l,f,d,h,p,v,m=arguments;return regeneratorRuntime.wrap((function(y){for(;;)switch(y.prev=y.next){case 0:if(t=m.length>1&&void 0!==m[1]?m[1]:{},r=t.at,n=void 0===r?e.selection:r,o=t.reverse,a=void 0!==o&&o,i=t.voids,c=void 0!==i&&i,null==(s=t.match)&&(s=function(){return!0}),n){y.next=6;break}return y.abrupt("return");case 6:u=[],l=W.path(e,n),f=O(Y.levels(e,l)),y.prev=9,f.s();case 11:if((d=f.n()).done){y.next=20;break}if(h=w(d.value,2),p=h[0],v=h[1],s(p)){y.next=15;break}return y.abrupt("continue",18);case 15:if(u.push([p,v]),c||!W.isVoid(e,p)){y.next=18;break}return y.abrupt("break",20);case 18:y.next=11;break;case 20:y.next=25;break;case 22:y.prev=22,y.t0=y.catch(9),f.e(y.t0);case 25:return y.prev=25,f.f(),y.finish(25);case 28:return a&&u.reverse(),y.delegateYield(u,"t1",30);case 30:case"end":return y.stop()}}),u,null,[[9,22,25,28]])})),marks:function(e){var t=e.marks,r=e.selection;if(!r)return null;if(t)return t;if(te.isExpanded(r)){var n=w(W.nodes(e,{match:oe.isText}),1)[0];return n?E(w(n,1)[0],["text"]):{}}var o=r.anchor,a=o.path,i=w(W.leaf(e,a),1)[0];if(0===o.offset){var c=W.previous(e,{at:a,match:oe.isText}),s=W.above(e,{match:function(t){return W.isBlock(e,t)}});if(c&&s){var u=w(c,2),l=u[0],f=u[1],d=w(s,2)[1];$.isAncestor(d,f)&&(i=l)}}return E(i,["text"])},next:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.mode,n=void 0===r?"lowest":r,o=t.voids,a=void 0!==o&&o,i=t.match,c=t.at,s=void 0===c?e.selection:c;if(s){var u=W.last(e,s),l=w(u,2),f=l[1],d=W.last(e,[]),h=w(d,2),p=h[1],v=[f,p];if($.isPath(s)&&0===s.length)throw new Error("Cannot get the next node from the root node!");if(null==i)if($.isPath(s)){var m=W.parent(e,s),y=w(m,1),g=y[0];i=function(e){return g.children.includes(e)}}else i=function(){return!0};var b=W.nodes(e,{at:v,match:i,mode:n,voids:a}),O=w(b,2),S=O[1];return S}},node:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=W.path(e,t,r),o=Y.get(e,n);return[o,n]},nodes:regeneratorRuntime.mark((function e(t){var r,n,o,a,i,c,s,u,l,f,d,h,p,v,m,y,g,b,S,k,x,E,j,P,T,A,C=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=C.length>1&&void 0!==C[1]?C[1]:{},n=r.at,o=void 0===n?t.selection:n,a=r.mode,i=void 0===a?"all":a,c=r.universal,s=void 0!==c&&c,u=r.reverse,l=void 0!==u&&u,f=r.voids,d=void 0!==f&&f,(h=r.match)||(h=function(){return!0}),o){e.next=6;break}return e.abrupt("return");case 6:q.isSpan(o)?(p=o[0],v=o[1]):(m=W.path(t,o,{edge:"start"}),y=W.path(t,o,{edge:"end"}),p=l?y:m,v=l?m:y),g=Y.nodes(t,{reverse:l,from:p,to:v,pass:function(e){var r=w(e,1)[0];return!d&&W.isVoid(t,r)}}),b=[],k=O(g),e.prev=10,k.s();case 12:if((x=k.n()).done){e.next=37;break}if(E=w(x.value,2),j=E[0],P=E[1],T=S&&0===$.compare(P,S[1]),"highest"!==i||!T){e.next=17;break}return e.abrupt("continue",35);case 17:if(h(j)){e.next=23;break}if(!s||T||!oe.isText(j)){e.next=22;break}return e.abrupt("return");case 22:return e.abrupt("continue",35);case 23:if("lowest"!==i||!T){e.next=26;break}return S=[j,P],e.abrupt("continue",35);case 26:if(!(A="lowest"===i?S:[j,P])){e.next=34;break}if(!s){e.next=32;break}b.push(A),e.next=34;break;case 32:return e.next=34,A;case 34:S=[j,P];case 35:e.next=12;break;case 37:e.next=42;break;case 39:e.prev=39,e.t0=e.catch(10),k.e(e.t0);case 42:return e.prev=42,k.f(),e.finish(42);case 45:if("lowest"!==i||!S){e.next=52;break}if(!s){e.next=50;break}b.push(S),e.next=52;break;case 50:return e.next=52,S;case 52:if(!s){e.next=54;break}return e.delegateYield(b,"t1",54);case 54:case"end":return e.stop()}}),e,null,[[10,39,42,45]])})),normalize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.force,n=void 0!==r&&r,o=function(e){return j.get(e)||[]};if(W.isNormalizing(e)){if(n){var a=Array.from(Y.nodes(e),(function(e){return w(e,2)[1]}));j.set(e,a)}0!==o(e).length&&W.withoutNormalizing(e,(function(){for(var t=42*o(e).length,r=0;0!==o(e).length;){if(r>t)throw new Error("\n            Could not completely normalize the editor after ".concat(t," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.\n          "));var n=o(e).pop(),a=W.node(e,n);e.normalizeNode(a),r++}}))}},parent:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=W.path(e,t,r),o=$.parent(n),a=W.node(e,o);return a},path:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.depth,o=r.edge;if($.isPath(t))if("start"===o){var a=Y.first(e,t),i=w(a,2),c=i[1];t=c}else if("end"===o){var s=Y.last(e,t),u=w(s,2),l=u[1];t=l}return te.isRange(t)&&(t="start"===o?te.start(t):"end"===o?te.end(t):$.common(t.anchor.path,t.focus.path)),Q.isPoint(t)&&(t=t.path),null!=n&&(t=t.slice(0,n)),t},pathRef:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.affinity,o=void 0===n?"forward":n,a={current:t,affinity:o,unref:function(){var t=a.current;return W.pathRefs(e).delete(a),a.current=null,t}},i=W.pathRefs(e);return i.add(a),a},pathRefs:function(e){var t=T.get(e);return t||(t=new Set,T.set(e,t)),t},point:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.edge,o=void 0===n?"start":n;if($.isPath(t)){var a;if("end"===o){var i=Y.last(e,t),c=w(i,2),s=c[1];a=s}else{var u=Y.first(e,t),l=w(u,2),f=l[1];a=f}var d=Y.get(e,a);if(!oe.isText(d))throw new Error("Cannot get the ".concat(o," point in the node at path [").concat(t,"] because it has no ").concat(o," text node."));return{path:a,offset:"end"===o?d.text.length:0}}if(te.isRange(t)){var h=te.edges(t),p=w(h,2),v=p[0],m=p[1];return"start"===o?v:m}return t},pointRef:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.affinity,o=void 0===n?"forward":n,a={current:t,affinity:o,unref:function(){var t=a.current;return W.pointRefs(e).delete(a),a.current=null,t}},i=W.pointRefs(e);return i.add(a),a},pointRefs:function(e){var t=A.get(e);return t||(t=new Set,A.set(e,t)),t},positions:regeneratorRuntime.mark((function e(t){var r,n,o,a,i,c,s,u,l,f,d,h,p,v,m,g,b,S,k,x,E,j,P,T,A,C,D,F,N=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=N.length>1&&void 0!==N[1]?N[1]:{},n=r.at,o=void 0===n?t.selection:n,a=r.unit,i=void 0===a?"offset":a,c=r.reverse,s=void 0!==c&&c,o){e.next=4;break}return e.abrupt("return");case 4:u=W.range(t,o),l=te.edges(u),f=w(l,2),d=f[0],h=f[1],p=s?h:d,v="",m=0,g=0,b=null,S=!1,k=function(){null==b&&(b="character"===i?R(v):"word"===i?M(v):"line"===i||"block"===i?v.length:1,v=v.slice(b)),g=s?g-b:g+b,b=(m-=b)>=0?null:0-m},x=O(W.nodes(t,{at:o,reverse:s})),e.prev=14,x.s();case 16:if((E=x.n()).done){e.next=51;break}if(j=w(E.value,2),P=j[0],T=j[1],!V.isElement(P)){e.next=26;break}if(!t.isVoid(P)){e.next=23;break}return e.next=22,W.start(t,T);case 22:return e.abrupt("continue",49);case 23:if(!t.isInline(P)){e.next=25;break}return e.abrupt("continue",49);case 25:W.hasInlines(t,P)&&(A=$.isAncestor(T,h.path)?h:W.end(t,T),C=$.isAncestor(T,d.path)?d:W.start(t,T),D=W.string(t,{anchor:C,focus:A}),v=s?Object(y.reverse)(D):D,S=!0);case 26:if(!oe.isText(P)){e.next=49;break}if(F=$.equals(T,p.path),m=P.text.length,g=s?m:0,F&&(m=s?p.offset:m-p.offset,g=p.offset),!F&&!S&&"offset"!==i){e.next=34;break}return e.next=34,{path:T,offset:g};case 34:if(""!==v){e.next=39;break}return e.abrupt("break",48);case 39:k();case 40:if(!(m>=0)){e.next=45;break}return e.next=43,{path:T,offset:g};case 43:e.next=46;break;case 45:return e.abrupt("break",48);case 46:e.next=34;break;case 48:S=!1;case 49:e.next=16;break;case 51:e.next=56;break;case 53:e.prev=53,e.t0=e.catch(14),x.e(e.t0);case 56:return e.prev=56,x.f(),e.finish(56);case 59:case"end":return e.stop()}}),e,null,[[14,53,56,59]])})),previous:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.mode,n=void 0===r?"lowest":r,o=t.voids,a=void 0!==o&&o,i=t.match,c=t.at,s=void 0===c?e.selection:c;if(s){var u=W.first(e,s),l=w(u,2),f=l[1],d=W.first(e,[]),h=w(d,2),p=h[1],v=[f,p];if($.isPath(s)&&0===s.length)throw new Error("Cannot get the previous node from the root node!");if(null==i)if($.isPath(s)){var m=W.parent(e,s),y=w(m,1),g=y[0];i=function(e){return g.children.includes(e)}}else i=function(){return!0};var b=W.nodes(e,{reverse:!0,at:v,match:i,mode:n,voids:a}),O=w(b,2),S=O[1];return S}},range:function(e,t,r){return te.isRange(t)&&!r?t:{anchor:W.start(e,t),focus:W.end(e,r||t)}},rangeRef:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.affinity,o=void 0===n?"forward":n,a={current:t,affinity:o,unref:function(){var t=a.current;return W.rangeRefs(e).delete(a),a.current=null,t}},i=W.rangeRefs(e);return i.add(a),a},rangeRefs:function(e){var t=C.get(e);return t||(t=new Set,C.set(e,t)),t},removeMark:function(e,t){e.removeMark(t)},start:function(e,t){return W.point(e,t,{edge:"start"})},string:function(e,t){var r,n=W.range(e,t),o=w(te.edges(n),2),a=o[0],i=o[1],c="",s=O(W.nodes(e,{at:n,match:oe.isText}));try{for(s.s();!(r=s.n()).done;){var u=w(r.value,2),l=u[0],f=u[1],d=l.text;$.equals(f,i.path)&&(d=d.slice(0,i.offset)),$.equals(f,a.path)&&(d=d.slice(a.offset)),c+=d}}catch(e){s.e(e)}finally{s.f()}return c},transform:function(e,t){e.children=Object(m.a)(e.children);var r=e.selection&&Object(m.a)(e.selection);switch(t.type){case"insert_node":var n=t.path,o=t.node,a=Y.parent(e,n),i=n[n.length-1];if(a.children.splice(i,0,o),r){var c,s=O(te.points(r));try{for(s.s();!(c=s.n()).done;){var u=w(c.value,2),l=u[0];r[u[1]]=Q.transform(l,t)}}catch(e){s.e(e)}finally{s.f()}}break;case"insert_text":var f=t.path,d=t.offset,h=t.text,p=Y.leaf(e,f),v=p.text.slice(0,d),y=p.text.slice(d);if(p.text=v+h+y,r){var g,S=O(te.points(r));try{for(S.s();!(g=S.n()).done;){var k=w(g.value,2),x=k[0];r[k[1]]=Q.transform(x,t)}}catch(e){S.e(e)}finally{S.f()}}break;case"merge_node":var E=t.path,j=Y.get(e,E),P=$.previous(E),T=Y.get(e,P),A=Y.parent(e,E),C=E[E.length-1];if(oe.isText(j)&&oe.isText(T))T.text+=j.text;else{if(oe.isText(j)||oe.isText(T))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(E,"] to nodes of different interaces: ").concat(j," ").concat(T));var D;(D=T.children).push.apply(D,b(j.children))}if(A.children.splice(C,1),r){var F,N=O(te.points(r));try{for(N.s();!(F=N.n()).done;){var R=w(F.value,2),M=R[0];r[R[1]]=Q.transform(M,t)}}catch(e){N.e(e)}finally{N.f()}}break;case"move_node":var z=t.path,H=t.newPath;if($.isAncestor(z,H))throw new Error("Cannot move a path [".concat(z,"] to new path [").concat(H,"] because the destination is inside itself."));var I=Y.get(e,z),_=Y.parent(e,z),B=z[z.length-1];_.children.splice(B,1);var L=$.transform(z,t),W=Y.get(e,$.parent(L)),V=L[L.length-1];if(W.children.splice(V,0,I),r){var q,K=O(te.points(r));try{for(K.s();!(q=K.n()).done;){var G=w(q.value,2),Z=G[0];r[G[1]]=Q.transform(Z,t)}}catch(e){K.e(e)}finally{K.f()}}break;case"remove_node":var J=t.path,X=J[J.length-1];if(Y.parent(e,J).children.splice(X,1),r){var ee,re=O(te.points(r));try{for(re.s();!(ee=re.n()).done;){var ne=w(ee.value,2),ae=ne[0],ie=ne[1],ce=Q.transform(ae,t);if(null!=r&&null!=ce)r[ie]=ce;else{var se,ue=void 0,le=void 0,fe=O(Y.texts(e));try{for(fe.s();!(se=fe.n()).done;){var de=w(se.value,2),he=de[0],pe=de[1];if(-1!==$.compare(pe,J)){le=[he,pe];break}ue=[he,pe]}}catch(e){fe.e(e)}finally{fe.f()}ue?(ae.path=ue[1],ae.offset=ue[0].text.length):le?(ae.path=le[1],ae.offset=0):r=null}}}catch(e){re.e(e)}finally{re.f()}}break;case"remove_text":var ve=t.path,me=t.offset,ye=t.text,ge=Y.leaf(e,ve),be=ge.text.slice(0,me),we=ge.text.slice(me+ye.length);if(ge.text=be+we,r){var Oe,Se=O(te.points(r));try{for(Se.s();!(Oe=Se.n()).done;){var ke=w(Oe.value,2),xe=ke[0];r[ke[1]]=Q.transform(xe,t)}}catch(e){Se.e(e)}finally{Se.f()}}break;case"set_node":var Ee=t.path,je=t.newProperties;if(0===Ee.length)throw new Error("Cannot set properties on the root node!");var Pe=Y.get(e,Ee);for(var Te in je){if("children"===Te||"text"===Te)throw new Error('Cannot set the "'.concat(Te,'" property of nodes!'));var Ae=je[Te];null==Ae?delete Pe[Te]:Pe[Te]=Ae}break;case"set_selection":var Ce=t.newProperties;if(null==Ce)r=Ce;else if(null==r){if(!te.isRange(Ce))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(Ce)," when there is no current selection."));r=Ce}else Object.assign(r,Ce);break;case"split_node":var De=t.path,Fe=t.position,Ne=t.properties;if(0===De.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(De,"] because the root node cannot be split."));var Re,Me=Y.get(e,De),ze=Y.parent(e,De),He=De[De.length-1];if(oe.isText(Me)){var Ie=Me.text.slice(0,Fe),_e=Me.text.slice(Fe);Me.text=Ie,Re=U({},Me,{},Ne,{text:_e})}else{var Be=Me.children.slice(0,Fe),Le=Me.children.slice(Fe);Me.children=Be,Re=U({},Me,{},Ne,{children:Le})}if(ze.children.splice(He+1,0,Re),r){var Ue,We=O(te.points(r));try{for(We.s();!(Ue=We.n()).done;){var Ve=w(Ue.value,2),qe=Ve[0];r[Ve[1]]=Q.transform(qe,t)}}catch(e){We.e(e)}finally{We.f()}}}e.children=Object(m.b)(e.children),e.selection=r?Object(m.c)(r)?Object(m.b)(r):r:null},unhangRange:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.voids,o=void 0!==n&&n,a=te.edges(t),i=w(a,2),c=i[0],s=i[1];if(0!==c.offset||0!==s.offset||te.isCollapsed(t))return t;var u,l=W.above(e,{at:s,match:function(t){return W.isBlock(e,t)}}),f=l?l[1]:[],d=W.start(e,[]),h={anchor:d,focus:s},p=!0,v=O(W.nodes(e,{at:h,match:oe.isText,reverse:!0,voids:o}));try{for(v.s();!(u=v.n()).done;){var m=w(u.value,2),y=m[0],g=m[1];if(p)p=!1;else if(""!==y.text||$.isBefore(g,f)){s={path:g,offset:y.text.length};break}}}catch(e){v.e(e)}finally{v.f()}return{anchor:c,focus:s}},void:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return W.above(e,U({},t,{match:function(t){return W.isVoid(e,t)}}))},withoutNormalizing:function(e,t){var r=W.isNormalizing(e);P.set(e,!1),t(),P.set(e,r),W.normalize(e)}},V={isElement:function(e){return v(e)&&Y.isNodeList(e.children)&&!W.isEditor(e)},isElementList:function(e){return Array.isArray(e)&&(0===e.length||V.isElement(e[0]))},matches:function(e,t){for(var r in t)if("children"!==r&&e[r]!==t[r])return!1;return!0}},q={isSpan:function(e){return Array.isArray(e)&&2===e.length&&e.every($.isPath)}},Y={ancestor:function(e,t){var r=Y.get(e,t);if(oe.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(r));return r},ancestors:regeneratorRuntime.mark((function e(t,r){var n,o,a,i,c,s,u=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=u.length>2&&void 0!==u[2]?u[2]:{},o=O($.ancestors(r,n)),e.prev=2,o.s();case 4:if((a=o.n()).done){e.next=12;break}return i=a.value,c=Y.ancestor(t,i),s=[c,i],e.next=10,s;case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),o.e(e.t0);case 17:return e.prev=17,o.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})),child:function(e,t){if(oe.isText(e))throw new Error("Cannot get the child of a text node: ".concat(JSON.stringify(e)));var r=e.children[t];if(null==r)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(JSON.stringify(e)));return r},children:regeneratorRuntime.mark((function(e,t){var r,n,o,a,i,c,s,u,l=arguments;return regeneratorRuntime.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:r=l.length>2&&void 0!==l[2]?l[2]:{},n=r.reverse,o=void 0!==n&&n,a=Y.ancestor(e,t),i=a.children,c=o?i.length-1:0;case 5:if(!(o?c>=0:c<i.length)){f.next=13;break}return s=Y.child(a,c),u=t.concat(c),f.next=10,[s,u];case 10:c=o?c-1:c+1,f.next=5;break;case 13:case"end":return f.stop()}}),i)})),common:function(e,t,r){var n=$.common(t,r);return[Y.get(e,n),n]},descendant:function(e,t){var r=Y.get(e,t);if(W.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(r));return r},descendants:regeneratorRuntime.mark((function e(t){var r,n,o,a,i,c,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=s.length>1&&void 0!==s[1]?s[1]:{},n=O(Y.nodes(t,r)),e.prev=2,n.s();case 4:if((o=n.n()).done){e.next=11;break}if(a=w(o.value,2),i=a[0],0===(c=a[1]).length){e.next=9;break}return e.next=9,[i,c];case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})),elements:regeneratorRuntime.mark((function e(t){var r,n,o,a,i,c,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=s.length>1&&void 0!==s[1]?s[1]:{},n=O(Y.nodes(t,r)),e.prev=2,n.s();case 4:if((o=n.n()).done){e.next=11;break}if(a=w(o.value,2),i=a[0],c=a[1],!V.isElement(i)){e.next=9;break}return e.next=9,[i,c];case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})),first:function(e,t){for(var r=t.slice(),n=Y.get(e,r);n&&!oe.isText(n)&&0!==n.children.length;)n=n.children[0],r.push(0);return[n,r]},fragment:function(e,t){if(oe.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(JSON.stringify(e)));return Object(m.d)(e,(function(e){var r,n=w(te.edges(t),2),o=n[0],a=n[1],i=O(Y.nodes(e,{reverse:!0,pass:function(e){var r=w(e,2)[1];return!te.includes(t,r)}}));try{for(i.s();!(r=i.n()).done;){var c=w(r.value,2)[1];if(!te.includes(t,c)){var s=Y.parent(e,c),u=c[c.length-1];s.children.splice(u,1)}if($.equals(c,a.path)){var l=Y.leaf(e,c);l.text=l.text.slice(0,a.offset)}if($.equals(c,o.path)){var f=Y.leaf(e,c);f.text=f.text.slice(o.offset)}}}catch(e){i.e(e)}finally{i.f()}delete e.selection})).children},get:function(e,t){for(var r=e,n=0;n<t.length;n++){var o=t[n];if(oe.isText(r)||!r.children[o])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(JSON.stringify(e)));r=r.children[o]}return r},has:function(e,t){for(var r=e,n=0;n<t.length;n++){var o=t[n];if(oe.isText(r)||!r.children[o])return!1;r=r.children[o]}return!0},isNode:function(e){return oe.isText(e)||V.isElement(e)||W.isEditor(e)},isNodeList:function(e){return Array.isArray(e)&&(0===e.length||Y.isNode(e[0]))},last:function(e,t){for(var r=t.slice(),n=Y.get(e,r);n&&!oe.isText(n)&&0!==n.children.length;){var o=n.children.length-1;n=n.children[o],r.push(o)}return[n,r]},leaf:function(e,t){var r=Y.get(e,t);if(!oe.isText(r))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(r));return r},levels:regeneratorRuntime.mark((function e(t,r){var n,o,a,i,c,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=s.length>2&&void 0!==s[2]?s[2]:{},o=O($.levels(r,n)),e.prev=2,o.s();case 4:if((a=o.n()).done){e.next=11;break}return i=a.value,c=Y.get(t,i),e.next=9,[c,i];case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),o.e(e.t0);case 16:return e.prev=16,o.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})),matches:function(e,t){return V.isElement(e)&&V.matches(e,t)||oe.isText(e)&&oe.matches(e,t)},nodes:regeneratorRuntime.mark((function e(t){var r,n,o,a,i,c,s,u,l,f,d,h,p,v=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=v.length>1&&void 0!==v[1]?v[1]:{},n=r.pass,o=r.reverse,a=void 0!==o&&o,i=r.from,c=void 0===i?[]:i,s=r.to,u=new Set,l=[],f=t;case 6:if(!s||!(a?$.isBefore(l,s):$.isAfter(l,s))){e.next=9;break}return e.abrupt("break",37);case 9:if(u.has(f)){e.next=12;break}return e.next=12,[f,l];case 12:if(u.has(f)||oe.isText(f)||0===f.children.length||null!=n&&!1!==n([f,l])){e.next=19;break}return u.add(f),d=a?f.children.length-1:0,$.isAncestor(l,c)&&(d=c[l.length]),l=l.concat(d),f=Y.get(t,l),e.abrupt("continue",6);case 19:if(0!==l.length){e.next=21;break}return e.abrupt("break",37);case 21:if(a){e.next=27;break}if(h=$.next(l),!Y.has(t,h)){e.next=27;break}return l=h,f=Y.get(t,l),e.abrupt("continue",6);case 27:if(!a||0===l[l.length-1]){e.next=32;break}return p=$.previous(l),l=p,f=Y.get(t,l),e.abrupt("continue",6);case 32:l=$.parent(l),f=Y.get(t,l),u.add(f),e.next=6;break;case 37:case"end":return e.stop()}}),e)})),parent:function(e,t){var r=$.parent(t),n=Y.get(e,r);if(oe.isText(n))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return n},string:function(e){return oe.isText(e)?e.text:e.children.map(Y.string).join("")},texts:regeneratorRuntime.mark((function e(t){var r,n,o,a,i,c,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=s.length>1&&void 0!==s[1]?s[1]:{},n=O(Y.nodes(t,r)),e.prev=2,n.s();case 4:if((o=n.n()).done){e.next=11;break}if(a=w(o.value,2),i=a[0],c=a[1],!oe.isText(i)){e.next=9;break}return e.next=9,[i,c];case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])}))};function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Z={isNodeOperation:function(e){return Z.isOperation(e)&&e.type.endsWith("_node")},isOperation:function(e){if(!v(e))return!1;switch(e.type){case"insert_node":return $.isPath(e.path)&&Y.isNode(e.node);case"insert_text":return"number"==typeof e.offset&&"string"==typeof e.text&&$.isPath(e.path);case"merge_node":return"number"==typeof e.position&&("number"==typeof e.target||null===e.target)&&$.isPath(e.path)&&v(e.properties);case"move_node":return $.isPath(e.path)&&$.isPath(e.newPath);case"remove_node":return $.isPath(e.path)&&Y.isNode(e.node);case"remove_text":return"number"==typeof e.offset&&"string"==typeof e.text&&$.isPath(e.path);case"set_node":return $.isPath(e.path)&&v(e.properties)&&v(e.newProperties);case"set_selection":return null===e.properties&&te.isRange(e.newProperties)||null===e.newProperties&&te.isRange(e.properties)||v(e.properties)&&v(e.newProperties);case"split_node":return $.isPath(e.path)&&"number"==typeof e.position&&("number"==typeof e.target||null===e.target)&&v(e.properties);default:return!1}},isOperationList:function(e){return Array.isArray(e)&&(0===e.length||Z.isOperation(e[0]))},isSelectionOperation:function(e){return Z.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation:function(e){return Z.isOperation(e)&&e.type.endsWith("_text")},inverse:function(e){switch(e.type){case"insert_node":return G({},e,{type:"remove_node"});case"insert_text":return G({},e,{type:"remove_text"});case"merge_node":return G({},e,{type:"split_node",path:$.previous(e.path)});case"move_node":var t=e.newPath,r=e.path;return $.equals(t,r)?e:G({},e,{path:$.transform(r,e),newPath:$.transform($.next(r),e)});case"remove_node":return G({},e,{type:"insert_node"});case"remove_text":return G({},e,{type:"insert_text"});case"set_node":var n=e.properties;return G({},e,{properties:e.newProperties,newProperties:n});case"set_selection":var o=e.properties,a=e.newProperties;return G({},e,null==o?{properties:a,newProperties:null}:null==a?{properties:null,newProperties:o}:{properties:a,newProperties:o});case"split_node":return G({},e,{type:"merge_node",path:$.next(e.path)})}}},$={ancestors:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.reverse,n=void 0!==r&&r,o=$.levels(e,t);return o=n?o.slice(1):o.slice(0,-1)},common:function(e,t){for(var r=[],n=0;n<e.length&&n<t.length;n++){var o=e[n];if(o!==t[n])break;r.push(o)}return r},compare:function(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0},endsAfter:function(e,t){var r=e.length-1,n=e.slice(0,r),o=t.slice(0,r),a=e[r],i=t[r];return $.equals(n,o)&&a>i},endsAt:function(e,t){var r=e.length,n=e.slice(0,r),o=t.slice(0,r);return $.equals(n,o)},endsBefore:function(e,t){var r=e.length-1,n=e.slice(0,r),o=t.slice(0,r),a=e[r],i=t[r];return $.equals(n,o)&&a<i},equals:function(e,t){return e.length===t.length&&e.every((function(e,r){return e===t[r]}))},isAfter:function(e,t){return 1===$.compare(e,t)},isAncestor:function(e,t){return e.length<t.length&&0===$.compare(e,t)},isBefore:function(e,t){return-1===$.compare(e,t)},isChild:function(e,t){return e.length===t.length+1&&0===$.compare(e,t)},isCommon:function(e,t){return e.length<=t.length&&0===$.compare(e,t)},isDescendant:function(e,t){return e.length>t.length&&0===$.compare(e,t)},isParent:function(e,t){return e.length+1===t.length&&0===$.compare(e,t)},isPath:function(e){return Array.isArray(e)&&(0===e.length||"number"==typeof e[0])},isSibling:function(e,t){if(e.length!==t.length)return!1;var r=e.slice(0,-1),n=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&$.equals(r,n)},levels:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.reverse,n=void 0!==r&&r,o=[],a=0;a<=e.length;a++)o.push(e.slice(0,a));return n&&o.reverse(),o},next:function(e){if(0===e.length)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},parent:function(e){if(0===e.length)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous:function(e){if(0===e.length)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative:function(e,t){if(!$.isAncestor(t,e)&&!$.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(m.d)(e,(function(n){var o=r.affinity,a=void 0===o?"forward":o;if(0!==e.length)switch(t.type){case"insert_node":var i=t.path;($.equals(i,n)||$.endsBefore(i,n)||$.isAncestor(i,n))&&(n[i.length-1]+=1);break;case"remove_node":var c=t.path;if($.equals(c,n)||$.isAncestor(c,n))return null;$.endsBefore(c,n)&&(n[c.length-1]-=1);break;case"merge_node":var s=t.path,u=t.position;$.equals(s,n)||$.endsBefore(s,n)?n[s.length-1]-=1:$.isAncestor(s,n)&&(n[s.length-1]-=1,n[s.length]+=u);break;case"split_node":var l=t.path,f=t.position;if($.equals(l,n)){if("forward"===a)n[n.length-1]+=1;else if("backward"!==a)return null}else $.endsBefore(l,n)?n[l.length-1]+=1:$.isAncestor(l,n)&&e[l.length]>=f&&(n[l.length-1]+=1,n[l.length]-=f);break;case"move_node":var d=t.path,h=t.newPath;if($.equals(d,h))return;if($.isAncestor(d,n)||$.equals(d,n)){var p=h.slice();if($.endsBefore(d,h)&&d.length<h.length)p[Math.min(h.length,d.length)-1]-=1;return p.concat(n.slice(d.length))}$.endsBefore(h,n)||$.equals(h,n)||$.isAncestor(h,n)?($.endsBefore(d,n)&&(n[d.length-1]-=1),n[h.length-1]+=1):$.endsBefore(d,n)&&($.equals(h,n)&&(n[h.length-1]+=1),n[d.length-1]-=1)}}))}};function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Q={compare:function(e,t){var r=$.compare(e.path,t.path);return 0===r?e.offset<t.offset?-1:e.offset>t.offset?1:0:r},isAfter:function(e,t){return 1===Q.compare(e,t)},isBefore:function(e,t){return-1===Q.compare(e,t)},equals:function(e,t){return e.offset===t.offset&&$.equals(e.path,t.path)},isPoint:function(e){return v(e)&&"number"==typeof e.offset&&$.isPath(e.path)},transform:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(m.d)(e,(function(e){var n=r.affinity,o=void 0===n?"forward":n,a=e.path,i=e.offset;switch(t.type){case"insert_node":case"move_node":e.path=$.transform(a,t,r);break;case"insert_text":$.equals(t.path,a)&&t.offset<=i&&(e.offset+=t.text.length);break;case"merge_node":$.equals(t.path,a)&&(e.offset+=t.position),e.path=$.transform(a,t,r);break;case"remove_text":$.equals(t.path,a)&&t.offset<=i&&(e.offset-=Math.min(i-t.offset,t.text.length));break;case"remove_node":if($.equals(t.path,a)||$.isAncestor(t.path,a))return null;e.path=$.transform(a,t,r);break;case"split_node":if($.equals(t.path,a)){if(t.position===i&&null==o)return null;(t.position<i||t.position===i&&"forward"===o)&&(e.offset-=t.position,e.path=$.transform(a,t,X({},r,{affinity:"forward"})))}else e.path=$.transform(a,t,r)}}))}};function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var te={edges:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.reverse,n=void 0!==r&&r,o=e.anchor,a=e.focus;return te.isBackward(e)===n?[o,a]:[a,o]},end:function(e){var t=w(te.edges(e),2)[1];return t},equals:function(e,t){return Q.equals(e.anchor,t.anchor)&&Q.equals(e.focus,t.focus)},includes:function(e,t){if(te.isRange(t)){if(te.includes(e,t.anchor)||te.includes(e,t.focus))return!0;var r=w(te.edges(e),2),n=r[0],o=r[1],a=w(te.edges(t),2),i=a[0],c=a[1];return Q.isBefore(n,i)&&Q.isAfter(o,c)}var s=w(te.edges(e),2),u=s[0],l=s[1],f=!1,d=!1;return Q.isPoint(t)?(f=Q.compare(t,u)>=0,d=Q.compare(t,l)<=0):(f=$.compare(t,u.path)>=0,d=$.compare(t,l.path)<=0),f&&d},intersection:function(e,t){var r=E(e,["anchor","focus"]),n=w(te.edges(e),2),o=n[0],a=n[1],i=w(te.edges(t),2),c=i[0],s=i[1],u=Q.isBefore(o,c)?c:o,l=Q.isBefore(a,s)?a:s;return Q.isBefore(l,u)?null:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({anchor:u,focus:l},r)},isBackward:function(e){var t=e.anchor,r=e.focus;return Q.isAfter(t,r)},isCollapsed:function(e){var t=e.anchor,r=e.focus;return Q.equals(t,r)},isExpanded:function(e){return!te.isCollapsed(e)},isForward:function(e){return!te.isBackward(e)},isRange:function(e){return v(e)&&Q.isPoint(e.anchor)&&Q.isPoint(e.focus)},points:regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[t.anchor,"anchor"];case 2:return e.next=4,[t.focus,"focus"];case 4:case"end":return e.stop()}}),e)})),start:function(e){var t=w(te.edges(e),1)[0];return t},transform:function(e,t,r){var n,o,a=r.affinity,i=void 0===a?"inward":a;return"inward"===i?te.isForward(e)?(n="forward",o="backward"):(n="backward",o="forward"):"outward"===i?te.isForward(e)?(n="backward",o="forward"):(n="forward",o="backward"):(n=i,o=i),Object(m.d)(e,(function(e){var r=Q.transform(e.anchor,t,{affinity:n}),a=Q.transform(e.focus,t,{affinity:o});if(!r||!a)return null;e.anchor=r,e.focus=a}))}};function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var oe={equals:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.loose,o=void 0!==n&&n;for(var a in e)if((!o||"text"!==a)&&e[a]!==t[a])return!1;for(var i in t)if((!o||"text"!==i)&&e[i]!==t[i])return!1;return!0},isText:function(e){return v(e)&&"string"==typeof e.text},isTextList:function(e){return Array.isArray(e)&&(0===e.length||oe.isText(e[0]))},matches:function(e,t){for(var r in t)if("text"!==r&&e[r]!==t[r])return!1;return!0},decorations:function(e,t){var r,n=[ne({},e)],o=O(t);try{for(o.s();!(r=o.n()).done;){var a,i=r.value,c=E(i,["anchor","focus"]),s=w(te.edges(i),2),u=s[0],l=s[1],f=[],d=0,h=O(n);try{for(h.s();!(a=h.n()).done;){var p=a.value,v=p.text.length,m=d;if(d+=v,u.offset<=m&&l.offset>=m+v)Object.assign(p,c),f.push(p);else if(u.offset>m+v||l.offset<m||l.offset===m&&0!==m)f.push(p);else{var y=p,g=void 0,b=void 0;if(l.offset<m+v){var S=l.offset-m;b=ne({},y,{text:y.text.slice(S)}),y=ne({},y,{text:y.text.slice(0,S)})}if(u.offset>m){var k=u.offset-m;g=ne({},y,{text:y.text.slice(0,k)}),y=ne({},y,{text:y.text.slice(k)})}Object.assign(y,c),g&&f.push(g),f.push(y),b&&f.push(b)}}}catch(e){h.e(e)}finally{h.f()}n=f}}catch(e){o.e(e)}finally{o.f()}return n}};function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ue={insertNodes:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};W.withoutNormalizing(e,(function(){var n=r.hanging,o=void 0!==n&&n,a=r.voids,i=void 0!==a&&a,c=r.mode,s=void 0===c?"lowest":c,u=r.at,l=r.match,f=r.select;if(Y.isNode(t)&&(t=[t]),0!==t.length){var d=w(t,1)[0];if(u||(u=e.selection?e.selection:e.children.length>0?W.end(e,[]):[0],f=!0),null==f&&(f=!1),te.isRange(u))if(o||(u=W.unhangRange(e,u)),te.isCollapsed(u))u=u.anchor;else{var h=w(te.edges(u),2)[1],p=W.pointRef(e,h);pe.delete(e,{at:u}),u=p.unref()}if(Q.isPoint(u)){null==l&&(l=oe.isText(d)?function(e){return oe.isText(e)}:e.isInline(d)?function(t){return oe.isText(t)||W.isInline(e,t)}:function(t){return W.isBlock(e,t)});var v=w(W.nodes(e,{at:u.path,match:l,mode:s,voids:i}),1)[0];if(!v)return;var m=w(v,2)[1],y=W.pathRef(e,m),g=W.isEnd(e,u,m);pe.splitNodes(e,{at:u,match:l,mode:s,voids:i});var b=y.unref();u=g?$.next(b):b}var S=$.parent(u),k=u[u.length-1];if(i||!W.void(e,{at:S})){var x,E=O(t);try{for(E.s();!(x=E.n()).done;){var j=x.value,P=S.concat(k);k++,e.apply({type:"insert_node",path:P,node:j})}}catch(e){E.e(e)}finally{E.f()}if(f){var T=W.end(e,u);T&&pe.select(e,T)}}}}))},liftNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};W.withoutNormalizing(e,(function(){var r=t.at,n=void 0===r?e.selection:r,o=t.mode,a=void 0===o?"lowest":o,i=t.voids,c=void 0!==i&&i,s=t.match;if(null==s&&(s=$.isPath(n)?fe(e,n):function(t){return W.isBlock(e,t)}),n)for(var u=W.nodes(e,{at:n,match:s,mode:a,voids:c}),l=0,f=Array.from(u,(function(t){var r=w(t,2)[1];return W.pathRef(e,r)}));l<f.length;l++){var d=f[l].unref();if(d.length<2)throw new Error("Cannot lift node at a path [".concat(d,"] because it has a depth of less than `2`."));var h=w(W.node(e,$.parent(d)),2),p=h[0],v=h[1],m=d[d.length-1],y=p.children.length;if(1===y){var g=$.next(v);pe.moveNodes(e,{at:d,to:g,voids:c}),pe.removeNodes(e,{at:v,voids:c})}else if(0===m)pe.moveNodes(e,{at:d,to:v,voids:c});else if(m===y-1){var b=$.next(v);pe.moveNodes(e,{at:d,to:b,voids:c})}else{var O=$.next(d),S=$.next(v);pe.splitNodes(e,{at:O,voids:c}),pe.moveNodes(e,{at:d,to:S,voids:c})}}}))},mergeNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};W.withoutNormalizing(e,(function(){var r=t.match,n=t.at,o=void 0===n?e.selection:n,a=t.hanging,i=void 0!==a&&a,c=t.voids,s=void 0!==c&&c,u=t.mode,l=void 0===u?"lowest":u;if(o){if(null==r)if($.isPath(o)){var f=w(W.parent(e,o),1)[0];r=function(e){return f.children.includes(e)}}else r=function(t){return W.isBlock(e,t)};if(!i&&te.isRange(o)&&(o=W.unhangRange(e,o)),te.isRange(o))if(te.isCollapsed(o))o=o.anchor;else{var d=w(te.edges(o),2)[1],h=W.pointRef(e,d);pe.delete(e,{at:o}),o=h.unref(),null==t.at&&pe.select(e,o)}var p=w(W.nodes(e,{at:o,match:r,voids:s,mode:l}),1)[0],v=W.previous(e,{at:o,match:r,voids:s,mode:l});if(p&&v){var m=w(p,2),y=m[0],g=m[1],b=w(v,2),O=b[0],S=b[1];if(0!==g.length&&0!==S.length){var k,x,j=$.next(S),P=$.common(g,S),T=$.isSibling(g,S),A=Array.from(W.levels(e,{at:g}),(function(e){return w(e,1)[0]})).slice(P.length).slice(0,-1),C=W.above(e,{at:g,mode:"highest",match:function(e){return A.includes(e)&&V.isElement(e)&&1===e.children.length}}),D=C&&W.pathRef(e,C[1]);if(oe.isText(y)&&oe.isText(O)){var F=E(y,["text"]);x=O.text.length,k=F}else{if(!V.isElement(y)||!V.isElement(O))throw new Error("Cannot merge the node at path [".concat(g,"] with the previous sibling because it is not the same kind: ").concat(JSON.stringify(y)," ").concat(JSON.stringify(O)));F=E(y,["children"]);x=O.children.length,k=F}T||pe.moveNodes(e,{at:g,to:j,voids:s}),D&&pe.removeNodes(e,{at:D.current,voids:s}),V.isElement(O)&&W.isEmpty(e,O)||oe.isText(O)&&""===O.text?pe.removeNodes(e,{at:S,voids:s}):e.apply({type:"merge_node",path:j,position:x,target:null,properties:k}),D&&D.unref()}}}}))},moveNodes:function(e,t){W.withoutNormalizing(e,(function(){var r=t.to,n=t.at,o=void 0===n?e.selection:n,a=t.mode,i=void 0===a?"lowest":a,c=t.voids,s=void 0!==c&&c,u=t.match;if(o){null==u&&(u=$.isPath(o)?fe(e,o):function(t){return W.isBlock(e,t)});for(var l=W.pathRef(e,r),f=W.nodes(e,{at:o,match:u,mode:i,voids:s}),d=0,h=Array.from(f,(function(t){var r=w(t,2)[1];return W.pathRef(e,r)}));d<h.length;d++){var p=h[d].unref(),v=l.current;0!==p.length&&e.apply({type:"move_node",path:p,newPath:v})}l.unref()}}))},removeNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};W.withoutNormalizing(e,(function(){var r=t.hanging,n=void 0!==r&&r,o=t.voids,a=void 0!==o&&o,i=t.mode,c=void 0===i?"lowest":i,s=t.at,u=void 0===s?e.selection:s,l=t.match;if(u){null==l&&(l=$.isPath(u)?fe(e,u):function(t){return W.isBlock(e,t)}),!n&&te.isRange(u)&&(u=W.unhangRange(e,u));for(var f=W.nodes(e,{at:u,match:l,mode:c,voids:a}),d=0,h=Array.from(f,(function(t){var r=w(t,2)[1];return W.pathRef(e,r)}));d<h.length;d++){var p=h[d].unref();if(p){var v=w(W.node(e,p),1)[0];e.apply({type:"remove_node",path:p,node:v})}}}}))},setNodes:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};W.withoutNormalizing(e,(function(){var n=r.match,o=r.at,a=void 0===o?e.selection:o,i=r.hanging,c=void 0!==i&&i,s=r.mode,u=void 0===s?"lowest":s,l=r.split,f=void 0!==l&&l,d=r.voids,h=void 0!==d&&d;if(a){if(null==n&&(n=$.isPath(a)?fe(e,a):function(t){return W.isBlock(e,t)}),!c&&te.isRange(a)&&(a=W.unhangRange(e,a)),f&&te.isRange(a)){var p=W.rangeRef(e,a,{affinity:"inward"}),v=w(te.edges(a),2),m=v[0],y=v[1],g="lowest"===u?"lowest":"highest";pe.splitNodes(e,{at:y,match:n,mode:g,voids:h}),pe.splitNodes(e,{at:m,match:n,mode:g,voids:h}),a=p.unref(),null==r.at&&pe.select(e,a)}var b,S=O(W.nodes(e,{at:a,match:n,mode:u,voids:h}));try{for(S.s();!(b=S.n()).done;){var k=w(b.value,2),x=k[0],E=k[1],j={},P={};if(0!==E.length){for(var T in t)"children"!==T&&"text"!==T&&t[T]!==x[T]&&(j[T]=x[T],P[T]=t[T]);0!==Object.keys(P).length&&e.apply({type:"set_node",path:E,properties:j,newProperties:P})}}}catch(e){S.e(e)}finally{S.f()}}}))},splitNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};W.withoutNormalizing(e,(function(){var r=t.mode,n=void 0===r?"lowest":r,o=t.voids,a=void 0!==o&&o,i=t.match,c=t.at,s=void 0===c?e.selection:c,u=t.height,l=void 0===u?0:u,f=t.always,d=void 0!==f&&f;if(null==i&&(i=function(t){return W.isBlock(e,t)}),te.isRange(s)&&(s=le(e,s)),$.isPath(s)){var h=s,p=W.point(e,h),v=w(W.parent(e,h),1)[0];i=function(e){return e===v},l=p.path.length-h.length+1,s=p,d=!0}if(s){var m=W.pointRef(e,s,{affinity:"backward"}),y=w(W.nodes(e,{at:s,match:i,mode:n,voids:a}),1)[0];if(y){var g=W.void(e,{at:s,mode:"highest"});if(!a&&g){var b=w(g,2),S=b[0],k=b[1];if(V.isElement(S)&&e.isInline(S)){var x=W.after(e,k);if(!x){var j=$.next(k);pe.insertNodes(e,{text:""},{at:j,voids:a}),x=W.point(e,j)}s=x,d=!0}l=s.path.length-k.length+1,d=!0}var P,T=W.pointRef(e,s),A=s.path.length-l,C=w(y,2)[1],D=s.path.slice(0,A),F=0===l?s.offset:s.path[A]+0,N=null,R=O(W.levels(e,{at:D,reverse:!0,voids:a}));try{for(R.s();!(P=R.n()).done;){var M=w(P.value,2),z=M[0],H=M[1],I=!1;if(H.length<C.length||0===H.length||!a&&W.isVoid(e,z))break;var _=m.current,B=W.isEnd(e,_,H);if(d||!m||!W.isEdge(e,_,H)){I=!0;var L=E(z,["text","children"]);e.apply({type:"split_node",path:H,position:F,target:N,properties:L})}N=F,F=H[H.length-1]+(I||B?1:0)}}catch(e){R.e(e)}finally{R.f()}if(null==t.at){var U=T.current||W.end(e,[]);pe.select(e,U)}m.unref(),T.unref()}}}))},unsetNodes:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(t)||(t=[t]);var n,o={},a=O(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;o[i]=null}}catch(e){a.e(e)}finally{a.f()}pe.setNodes(e,o,r)},unwrapNodes:function(e,t){W.withoutNormalizing(e,(function(){var r=t.mode,n=void 0===r?"lowest":r,o=t.split,a=void 0!==o&&o,i=t.voids,c=void 0!==i&&i,s=t.at,u=void 0===s?e.selection:s,l=t.match;if(u){null==l&&(l=$.isPath(u)?fe(e,u):function(t){return W.isBlock(e,t)}),$.isPath(u)&&(u=W.range(e,u));for(var f=te.isRange(u)?W.rangeRef(e,u):null,d=W.nodes(e,{at:u,match:l,mode:n,voids:c}),h=function(t){var r=t.unref(),n=w(W.node(e,r),1)[0],o=W.range(e,r);a&&f&&(o=te.intersection(f.current,o)),pe.liftNodes(e,{at:o,match:function(e){return n.children.includes(e)},voids:c})},p=0,v=Array.from(d,(function(t){var r=w(t,2)[1];return W.pathRef(e,r)}));p<v.length;p++){h(v[p])}f&&f.unref()}}))},wrapNodes:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};W.withoutNormalizing(e,(function(){var n=r.mode,o=void 0===n?"lowest":n,a=r.split,i=void 0!==a&&a,c=r.voids,s=void 0!==c&&c,u=r.match,l=r.at,f=void 0===l?e.selection:l;if(f){if(null==u&&(u=$.isPath(f)?fe(e,f):e.isInline(t)?function(t){return W.isInline(e,t)||oe.isText(t)}:function(t){return W.isBlock(e,t)}),i&&te.isRange(f)){var d=w(te.edges(f),2),h=d[0],p=d[1],v=W.rangeRef(e,f,{affinity:"inward"});pe.splitNodes(e,{at:p,match:u,voids:s}),pe.splitNodes(e,{at:h,match:u,voids:s}),f=v.unref(),null==r.at&&pe.select(e,f)}for(var m=0,y=Array.from(W.nodes(e,{at:f,match:e.isInline(t)?function(t){return W.isBlock(e,t)}:function(e){return W.isEditor(e)},mode:"lowest",voids:s}));m<y.length;m++){var g=w(y[m],2)[1],b=te.isRange(f)?te.intersection(f,W.range(e,g)):f;if(b){var O=Array.from(W.nodes(e,{at:b,match:u,mode:o,voids:s}));O.length>0&&function(){var r=w(O,1)[0],n=O[O.length-1],o=w(r,2)[1],a=w(n,2)[1],i=$.equals(o,a)?$.parent(o):$.common(o,a),c=W.range(e,o,a),u=w(W.node(e,i),1)[0],l=i.length+1,f=$.next(a.slice(0,l)),d=se({},t,{children:[]});pe.insertNodes(e,d,{at:f,voids:s}),pe.moveNodes(e,{at:c,match:function(e){return u.children.includes(e)},to:f.concat(0),voids:s})}()}}}}))}},le=function(e,t){if(te.isCollapsed(t))return t.anchor;var r=w(te.edges(t),2)[1],n=W.pointRef(e,r);return pe.delete(e,{at:t}),n.unref()},fe=function(e,t){var r=w(W.node(e,t),1)[0];return function(e){return e===r}};function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var pe=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?he(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):he(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},{transform:function(e,t){e.children=Object(m.a)(e.children);var r=e.selection&&Object(m.a)(e.selection);switch(t.type){case"insert_node":var n=t.path,o=t.node,a=Y.parent(e,n),i=n[n.length-1];if(a.children.splice(i,0,o),r){var c,s=O(te.points(r));try{for(s.s();!(c=s.n()).done;){var u=w(c.value,2),l=u[0];r[u[1]]=Q.transform(l,t)}}catch(e){s.e(e)}finally{s.f()}}break;case"insert_text":var f=t.path,d=t.offset,h=t.text,p=Y.leaf(e,f),v=p.text.slice(0,d),y=p.text.slice(d);if(p.text=v+h+y,r){var g,S=O(te.points(r));try{for(S.s();!(g=S.n()).done;){var k=w(g.value,2),x=k[0];r[k[1]]=Q.transform(x,t)}}catch(e){S.e(e)}finally{S.f()}}break;case"merge_node":var E=t.path,j=Y.get(e,E),P=$.previous(E),T=Y.get(e,P),A=Y.parent(e,E),C=E[E.length-1];if(oe.isText(j)&&oe.isText(T))T.text+=j.text;else{if(oe.isText(j)||oe.isText(T))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(E,"] to nodes of different interaces: ").concat(j," ").concat(T));var D;(D=T.children).push.apply(D,b(j.children))}if(A.children.splice(C,1),r){var F,N=O(te.points(r));try{for(N.s();!(F=N.n()).done;){var R=w(F.value,2),M=R[0];r[R[1]]=Q.transform(M,t)}}catch(e){N.e(e)}finally{N.f()}}break;case"move_node":var z=t.path,H=t.newPath;if($.isAncestor(z,H))throw new Error("Cannot move a path [".concat(z,"] to new path [").concat(H,"] because the destination is inside itself."));var I=Y.get(e,z),_=Y.parent(e,z),B=z[z.length-1];_.children.splice(B,1);var L=$.transform(z,t),U=Y.get(e,$.parent(L)),W=L[L.length-1];if(U.children.splice(W,0,I),r){var V,q=O(te.points(r));try{for(q.s();!(V=q.n()).done;){var K=w(V.value,2),G=K[0];r[K[1]]=Q.transform(G,t)}}catch(e){q.e(e)}finally{q.f()}}break;case"remove_node":var Z=t.path,J=Z[Z.length-1];if(Y.parent(e,Z).children.splice(J,1),r){var X,ee=O(te.points(r));try{for(ee.s();!(X=ee.n()).done;){var re=w(X.value,2),ne=re[0],ae=re[1],ce=Q.transform(ne,t);if(null!=r&&null!=ce)r[ae]=ce;else{var se,ue=void 0,le=void 0,fe=O(Y.texts(e));try{for(fe.s();!(se=fe.n()).done;){var de=w(se.value,2),he=de[0],pe=de[1];if(-1!==$.compare(pe,Z)){le=[he,pe];break}ue=[he,pe]}}catch(e){fe.e(e)}finally{fe.f()}ue?(ne.path=ue[1],ne.offset=ue[0].text.length):le?(ne.path=le[1],ne.offset=0):r=null}}}catch(e){ee.e(e)}finally{ee.f()}}break;case"remove_text":var ve=t.path,me=t.offset,ye=t.text,ge=Y.leaf(e,ve),be=ge.text.slice(0,me),we=ge.text.slice(me+ye.length);if(ge.text=be+we,r){var Oe,Se=O(te.points(r));try{for(Se.s();!(Oe=Se.n()).done;){var ke=w(Oe.value,2),xe=ke[0];r[ke[1]]=Q.transform(xe,t)}}catch(e){Se.e(e)}finally{Se.f()}}break;case"set_node":var Ee=t.path,je=t.newProperties;if(0===Ee.length)throw new Error("Cannot set properties on the root node!");var Pe=Y.get(e,Ee);for(var Te in je){if("children"===Te||"text"===Te)throw new Error('Cannot set the "'.concat(Te,'" property of nodes!'));var Ae=je[Te];null==Ae?delete Pe[Te]:Pe[Te]=Ae}break;case"set_selection":var Ce=t.newProperties;if(null==Ce)r=Ce;else if(null==r){if(!te.isRange(Ce))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(Ce)," when there is no current selection."));r=Ce}else Object.assign(r,Ce);break;case"split_node":var De=t.path,Fe=t.position,Ne=t.properties;if(0===De.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(De,"] because the root node cannot be split."));var Re,Me=Y.get(e,De),ze=Y.parent(e,De),He=De[De.length-1];if(oe.isText(Me)){var Ie=Me.text.slice(0,Fe),_e=Me.text.slice(Fe);Me.text=Ie,Re=ie({},Me,{},Ne,{text:_e})}else{var Be=Me.children.slice(0,Fe),Le=Me.children.slice(Fe);Me.children=Be,Re=ie({},Me,{},Ne,{children:Le})}if(ze.children.splice(He+1,0,Re),r){var Ue,We=O(te.points(r));try{for(We.s();!(Ue=We.n()).done;){var Ve=w(Ue.value,2),qe=Ve[0];r[Ve[1]]=Q.transform(qe,t)}}catch(e){We.e(e)}finally{We.f()}}}e.children=Object(m.b)(e.children),e.selection=r?Object(m.c)(r)?Object(m.b)(r):r:null}},{},ue,{},{collapse:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.edge,n=void 0===r?"anchor":r,o=e.selection;if(o)if("anchor"===n)pe.select(e,o.anchor);else if("focus"===n)pe.select(e,o.focus);else if("start"===n){var a=te.edges(o),i=w(a,1),c=i[0];pe.select(e,c)}else if("end"===n){var s=te.edges(o),u=w(s,2),l=u[1];pe.select(e,l)}},deselect:function(e){var t=e.selection;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.selection,n=t.distance,o=void 0===n?1:n,a=t.unit,i=void 0===a?"character":a,c=t.reverse,s=void 0!==c&&c,u=t.edge,l=void 0===u?null:u;if(r){"start"===l&&(l=te.isBackward(r)?"focus":"anchor"),"end"===l&&(l=te.isBackward(r)?"anchor":"focus");var f=r.anchor,d=r.focus,h={distance:o,unit:i},p={};if(null==l||"anchor"===l){var v=s?W.before(e,f,h):W.after(e,f,h);v&&(p.anchor=v)}if(null==l||"focus"===l){var m=s?W.before(e,d,h):W.after(e,d,h);m&&(p.focus=m)}pe.setSelection(e,p)}},select:function(e,t){var r=e.selection;if(t=W.range(e,t),r)pe.setSelection(e,t);else{if(!te.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(JSON.stringify(t)));e.apply({type:"set_selection",properties:r,newProperties:t})}},setPoint:function(e,t,r){var n=e.selection,o=r.edge,a=void 0===o?"both":o;if(n){"start"===a&&(a=te.isBackward(n)?"focus":"anchor"),"end"===a&&(a=te.isBackward(n)?"anchor":"focus");var i=n.anchor,c=n.focus,s="anchor"===a?i:c;pe.setSelection(e,g({},"anchor"===a?"anchor":"focus",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},s,{},t)))}},setSelection:function(e,t){var r=e.selection,n={},o={};if(r){for(var a in t)("anchor"===a&&null!=t.anchor&&!Q.equals(t.anchor,r.anchor)||"focus"===a&&null!=t.focus&&!Q.equals(t.focus,r.focus)||"anchor"!==a&&"focus"!==a&&t[a]!==r[a])&&(n[a]=r[a],o[a]=t[a]);Object.keys(n).length>0&&e.apply({type:"set_selection",properties:n,newProperties:o})}}},{},{delete:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};W.withoutNormalizing(e,(function(){var r=t.reverse,n=void 0!==r&&r,o=t.unit,a=void 0===o?"character":o,i=t.distance,c=void 0===i?1:i,s=t.voids,u=void 0!==s&&s,l=t.at,f=void 0===l?e.selection:l,d=t.hanging,h=void 0!==d&&d;if(f){if(te.isRange(f)&&te.isCollapsed(f)&&(f=f.anchor),Q.isPoint(f)){var p=W.void(e,{at:f,mode:"highest"});if(!u&&p){f=w(p,2)[1]}else{var v={unit:a,distance:c};f={anchor:f,focus:n?W.before(e,f,v)||W.start(e,[]):W.after(e,f,v)||W.end(e,[])},h=!0}}if($.isPath(f))pe.removeNodes(e,{at:f,voids:u});else if(!te.isCollapsed(f)){h||(f=W.unhangRange(e,f,{voids:u}));var m=w(te.edges(f),2),y=m[0],g=m[1],b=W.above(e,{match:function(t){return W.isBlock(e,t)},at:y,voids:u}),S=W.above(e,{match:function(t){return W.isBlock(e,t)},at:g,voids:u}),k=b&&S&&!$.equals(b[1],S[1]),x=$.equals(y.path,g.path),E=u?null:W.void(e,{at:y,mode:"highest"}),j=u?null:W.void(e,{at:g,mode:"highest"});if(E){var P=W.before(e,y);P&&b&&$.isAncestor(b[1],P.path)&&(y=P)}if(j){var T=W.after(e,g);T&&S&&$.isAncestor(S[1],T.path)&&(g=T)}var A,C,D=[],F=O(W.nodes(e,{at:f,voids:u}));try{for(F.s();!(C=F.n()).done;){var N=C.value,R=w(N,2),M=R[0],z=R[1];A&&0===$.compare(z,A)||(!u&&W.isVoid(e,M)||!$.isCommon(z,y.path)&&!$.isCommon(z,g.path))&&(D.push(N),A=z)}}catch(e){F.e(e)}finally{F.f()}var H=Array.from(D,(function(t){var r=w(t,2)[1];return W.pathRef(e,r)})),I=W.pointRef(e,y),_=W.pointRef(e,g);if(!x&&!E){var B=I.current,L=w(W.leaf(e,B),1)[0],U=B.path,V=y.offset,q=L.text.slice(V);e.apply({type:"remove_text",path:U,offset:V,text:q})}for(var Y=0,K=H;Y<K.length;Y++){var G=K[Y].unref();pe.removeNodes(e,{at:G,voids:u})}if(!j){var Z=_.current,J=w(W.leaf(e,Z),1)[0],X=Z.path,ee=x?y.offset:0,re=J.text.slice(ee,g.offset);e.apply({type:"remove_text",path:X,offset:ee,text:re})}!x&&k&&_.current&&I.current&&pe.mergeNodes(e,{at:_.current,hanging:!0,voids:u});var ne=_.unref()||I.unref();null==t.at&&ne&&pe.select(e,ne)}}}))},insertFragment:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};W.withoutNormalizing(e,(function(){var n=r.hanging,o=void 0!==n&&n,a=r.voids,i=void 0!==a&&a,c=r.at,s=void 0===c?e.selection:c;if(t.length&&s){if(te.isRange(s))if(o||(s=W.unhangRange(e,s)),te.isCollapsed(s))s=s.anchor;else{var u=w(te.edges(s),2)[1];if(!i&&W.void(e,{at:u}))return;var l=W.pointRef(e,u);pe.delete(e,{at:s}),s=l.unref()}else $.isPath(s)&&(s=W.start(e,s));if(i||!W.void(e,{at:s})){var f=W.above(e,{at:s,match:function(t){return W.isInline(e,t)},mode:"highest",voids:i});if(f){var d=w(f,2)[1];if(W.isEnd(e,s,d))s=W.after(e,d);else if(W.isStart(e,s,d)){s=W.before(e,d)}}var h,p=w(W.above(e,{match:function(t){return W.isBlock(e,t)},at:s,voids:i}),2)[1],v=W.isStart(e,s,p),m=W.isEnd(e,s,p),y=!v||v&&m,g=!m,b=w(Y.first({children:t},[]),2)[1],S=w(Y.last({children:t},[]),2)[1],k=[],x=function(t){var r=w(t,2),n=r[0],o=r[1];return!(y&&$.isAncestor(o,b)&&V.isElement(n)&&!e.isVoid(n)&&!e.isInline(n))&&!(g&&$.isAncestor(o,S)&&V.isElement(n)&&!e.isVoid(n)&&!e.isInline(n))},E=O(Y.nodes({children:t},{pass:x}));try{for(E.s();!(h=E.n()).done;){var j=h.value;j[1].length>0&&x(j)&&k.push(j)}}catch(e){E.e(e)}finally{E.f()}for(var P=[],T=[],A=[],C=!0,D=!1,F=0,N=k;F<N.length;F++){var R=w(N[F],1)[0];V.isElement(R)&&!e.isInline(R)?(C=!1,D=!0,T.push(R)):C?P.push(R):A.push(R)}var M=w(W.nodes(e,{at:s,match:function(t){return oe.isText(t)||W.isInline(e,t)},mode:"highest",voids:i}),1),z=w(M[0],2)[1],H=W.isStart(e,s,z),I=W.isEnd(e,s,z),_=W.pathRef(e,m?$.next(p):p),B=W.pathRef(e,I?$.next(z):z);pe.splitNodes(e,{at:s,match:function(t){return D?W.isBlock(e,t):oe.isText(t)||W.isInline(e,t)},mode:D?"lowest":"highest",voids:i});var L=W.pathRef(e,!H||H&&I?$.next(z):z);if(pe.insertNodes(e,P,{at:L.current,match:function(t){return oe.isText(t)||W.isInline(e,t)},mode:"highest",voids:i}),pe.insertNodes(e,T,{at:_.current,match:function(t){return W.isBlock(e,t)},mode:"lowest",voids:i}),pe.insertNodes(e,A,{at:B.current,match:function(t){return oe.isText(t)||W.isInline(e,t)},mode:"highest",voids:i}),!r.at){var U;U=A.length>0?$.previous(B.current):T.length>0?$.previous(_.current):$.previous(L.current);var q=W.end(e,U);pe.select(e,q)}L.unref(),_.unref(),B.unref()}}}))},insertText:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};W.withoutNormalizing(e,(function(){var n=r.voids,o=void 0!==n&&n,a=r.at,i=void 0===a?e.selection:a;if(i){if($.isPath(i)&&(i=W.range(e,i)),te.isRange(i))if(te.isCollapsed(i))i=i.anchor;else{var c=te.end(i);if(!o&&W.void(e,{at:c}))return;var s=W.pointRef(e,c);pe.delete(e,{at:i,voids:o}),i=s.unref(),pe.setSelection(e,{anchor:i,focus:i})}if(o||!W.void(e,{at:i})){var u=i,l=u.path,f=u.offset;e.apply({type:"insert_text",path:l,offset:f,text:t})}}}))}});var ve=r(10),me=r.n(ve),ye=r(1),ge=r.n(ye);function be(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function we(){return(we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Se(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ke=function(e){var t=e.Modal,r=e.insert,n=e.shortcode,a=Object(ye.useHookComponent)("ReactiumUI"),i=a.Dialog,c=a.Button,s=a.EventForm,u=ge.a.Shortcode.Component.get(n.type),f=[n.code,l.a.get(u,"label",me()(u.id,{pascalCase:!0}))].join(" - "),d=Object.entries(l.a.get(u,"attributes",{})).map((function(e){var t=Oe(e,2),r=t[0],n=t[1];return n.id=r,n})),h=function(){return t.dismiss()},p={align:i.ENUMS.ALIGN.RIGHT,elements:[o.a.createElement(c,{key:"cancel-btn",type:c.ENUMS.TYPE.BUTTON,onClick:h,className:"mr-xs-8",color:c.ENUMS.COLOR.DANGER},"Cancel"),o.a.createElement(c,{key:"insert-btn",type:c.ENUMS.TYPE.SUBMIT},"Insert")]};return o.a.createElement(s,{onSubmit:function(e){n.attributes=e.value,r(n),t.dismiss()}},o.a.createElement(i,{collapsible:!1,dismissable:!0,footer:p,header:{title:f},onDismiss:h},o.a.createElement("div",{className:"shortcodes-rte-attributes"},d.map((function(e){return o.a.createElement(xe,we({key:e.id},e))})))))},xe=function(e){var t,r=e.id,n=e.label,a=e.type,i=be(e,["id","label","type"]);switch(n=n||"".concat(me()(r,{pascalCase:!0}),":"),a){case"textarea":t=function(e){return o.a.createElement("label",null,o.a.createElement("span",null,n),o.a.createElement("textarea",e))};break;default:t=function(e){return o.a.createElement("label",null,o.a.createElement("span",null,n),o.a.createElement("input",we({type:a},e)))}}return o.a.createElement("div",{className:"form-group"},o.a.createElement(t,we({},i,{name:r,id:r})))};r(17);r(18),r(19);var Ee=r(7);function je(e){return function(e){if(Array.isArray(e))return Ae(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Te(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}(e,t)||Te(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){if(e){if("string"==typeof e)return Ae(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ae(e,t):void 0}}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ce=0,De=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id="".concat(Ce++)},Fe=new WeakMap,Ne=new WeakMap,Re=new WeakMap,Me=new WeakMap,ze=new WeakMap,He=(new WeakMap,new WeakMap),Ie=new WeakMap,_e=new WeakMap,Be=(new WeakMap,Symbol("placeholder"),function(e){return Le(e)&&1===e.nodeType}),Le=function(e){return e instanceof Node},Ue=function(e,t,r){for(var n,o=e.childNodes,a=o[t],i=t,c=!1,s=!1;(Le(n=a)&&8===n.nodeType||Be(a)&&0===a.childNodes.length||Be(a)&&"false"===a.getAttribute("contenteditable"))&&(!c||!s);)i>=o.length?(c=!0,i=t-1,r="backward"):i<0?(s=!0,i=t+1,r="forward"):(a=o[i],i+="forward"===r?1:-1);return a},We={findKey:function(e,t){var r=He.get(t);return r||(r=new De,He.set(t,r)),r},findPath:function(e,t){for(var r=[],n=t;;){var o=Ne.get(n);if(null==o){if(W.isEditor(n))return r;break}var a=Fe.get(n);if(null==a)break;r.unshift(a),n=o}throw new Error("Unable to find the path for Slate node: ".concat(JSON.stringify(t)))},isFocused:function(e){return!!_e.get(e)},isReadOnly:function(e){return!!Ie.get(e)},blur:function(e){var t=We.toDOMNode(e,e);_e.set(e,!1),window.document.activeElement===t&&t.blur()},focus:function(e){var t=We.toDOMNode(e,e);_e.set(e,!0),window.document.activeElement!==t&&t.focus({preventScroll:!0})},deselect:function(e){var t=e.selection,r=window.getSelection();r&&r.rangeCount>0&&r.removeAllRanges(),t&&pe.deselect(e)},hasDOMNode:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.editable,a=void 0!==o&&o,i=We.toDOMNode(e,e);try{r=Be(t)?t:t.parentElement}catch(e){if(!e.message.includes('Permission denied to access property "nodeType"'))throw e}return!!r&&(r.closest("[data-slate-editor]")===i&&(!a||r.isContentEditable||!!r.getAttribute("data-slate-zero-width")))},insertData:function(e,t){e.insertData(t)},setFragmentData:function(e,t){e.setFragmentData(t)},toDOMNode:function(e,t){var r=W.isEditor(t)?Re.get(e):ze.get(We.findKey(e,t));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(JSON.stringify(t)));return r},toDOMPoint:function(e,t){var r,n=Pe(W.node(e,t.path),1)[0],o=We.toDOMNode(e,n);W.void(e,{at:t})&&(t={path:t.path,offset:0});for(var a=0,i=0,c=Array.from(o.querySelectorAll("[data-slate-string], [data-slate-zero-width]"));i<c.length;i++){var s=c[i],u=s.childNodes[0];if(null!=u&&null!=u.textContent){var l=u.textContent.length,f=s.getAttribute("data-slate-length"),d=a+(null==f?l:parseInt(f,10));if(t.offset<=d){r=[u,Math.min(l,Math.max(0,t.offset-a))];break}a=d}}if(!r)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(JSON.stringify(t)));return r},toDOMRange:function(e,t){var r=t.anchor,n=t.focus,o=te.isBackward(t),a=We.toDOMPoint(e,r),i=te.isCollapsed(t)?a:We.toDOMPoint(e,n),c=window.document.createRange(),s=Pe(o?i:a,2),u=s[0],l=s[1],f=Pe(o?a:i,2),d=f[0],h=f[1],p=!!(Be(u)?u:u.parentElement).getAttribute("data-slate-zero-width"),v=!!(Be(d)?d:d.parentElement).getAttribute("data-slate-zero-width");return c.setStart(u,p?1:l),c.setEnd(d,v?1:h),c},toSlateNode:function(e,t){var r=Be(t)?t:t.parentElement;r&&!r.hasAttribute("data-slate-node")&&(r=r.closest("[data-slate-node]"));var n=r?Me.get(r):null;if(!n)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(r));return n},findEventRange:function(e,t){"nativeEvent"in t&&(t=t.nativeEvent);var r=t,n=r.clientX,o=r.clientY,a=r.target;if(null==n||null==o)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var i,c=We.toSlateNode(e,t.target),s=We.findPath(e,c);if(W.isVoid(e,c)){var u=a.getBoundingClientRect(),l=e.isInline(c)?n-u.left<u.left+u.width-n:o-u.top<u.top+u.height-o,f=W.point(e,s,{edge:l?"start":"end"}),d=l?W.before(e,f):W.after(e,f);if(d)return W.range(e,d)}var h=window.document;if(h.caretRangeFromPoint)i=h.caretRangeFromPoint(n,o);else{var p=h.caretPositionFromPoint(n,o);p&&((i=h.createRange()).setStart(p.offsetNode,p.offset),i.setEnd(p.offsetNode,p.offset))}if(!i)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));return We.toSlateRange(e,i)},toSlatePoint:function(e,t){var r=function(e){var t=Pe(e,2),r=t[0],n=t[1];if(Be(r)&&r.childNodes.length){var o=n===r.childNodes.length,a=o?"backward":"forward";for(r=Ue(r,o?n-1:n,a);Be(r)&&r.childNodes.length;){var i=o?r.childNodes.length-1:0;r=Ue(r,i,a)}n=o&&null!=r.textContent?r.textContent.length:0}return[r,n]}(t),n=Pe(r,2),o=n[0],a=n[1],i=o.parentNode,c=null,s=0;if(i){var u=i.closest('[data-slate-void="true"]'),l=i.closest("[data-slate-leaf]"),f=null;if(l){c=l.closest('[data-slate-node="text"]');var d=window.document.createRange();d.setStart(c,0),d.setEnd(o,a);var h=d.cloneContents();[].concat(je(h.querySelectorAll("[data-slate-zero-width]")),je(h.querySelectorAll("[contenteditable=false]"))).forEach((function(e){e.parentNode.removeChild(e)})),s=h.textContent.length,f=c}else u&&(c=(l=u.querySelector("[data-slate-leaf]")).closest('[data-slate-node="text"]'),s=(f=l).textContent.length);f&&s===f.textContent.length&&i.hasAttribute("data-slate-zero-width")&&s--}if(!c)throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t));var p=We.toSlateNode(e,c);return{path:We.findPath(e,p),offset:s}},toSlateRange:function(e,t){var r,n,o,a,i;if((t instanceof Selection?t.anchorNode:t.startContainer)&&(t instanceof Selection?(r=t.anchorNode,n=t.anchorOffset,o=t.focusNode,a=t.focusOffset,i=t.isCollapsed):(r=t.startContainer,n=t.startOffset,o=t.endContainer,a=t.endOffset,i=t.collapsed)),null==r||null==o||null==n||null==a)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));var c=We.toSlatePoint(e,[r,n]);return{anchor:c,focus:i?c:We.toSlatePoint(e,[o,a])}}},Ve=Object(n.createContext)(null),qe=function(){var e=Object(n.useContext)(Ve);if(!e)throw new Error("The `useEditor` hook must be used inside the <Slate> component's context.");return e},Ye=("undefined"!=typeof window?n.useLayoutEffect:n.useEffect,"undefined"!=typeof navigator&&"undefined"!=typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,"undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent)),Ke=("undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),"undefined"!=typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),"undefined"!=typeof navigator&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])/i.test(navigator.userAgent),{bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"}),Ge={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},Ze={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},$e=function(e){var t=Ke[e],r=Ge[e],n=Ze[e],o=t&&Object(Ee.isKeyHotkey)(t),a=r&&Object(Ee.isKeyHotkey)(r),i=n&&Object(Ee.isKeyHotkey)(n);return function(e){return!(!o||!o(e))||(!!(Ye&&a&&a(e))||!(Ye||!i||!i(e)))}};$e("bold"),$e("compose"),$e("moveBackward"),$e("moveForward"),$e("deleteBackward"),$e("deleteForward"),$e("deleteLineBackward"),$e("deleteLineForward"),$e("deleteWordBackward"),$e("deleteWordForward"),$e("extendBackward"),$e("extendForward"),$e("extendLineBackward"),$e("extendLineForward"),$e("italic"),$e("moveLineBackward"),$e("moveLineForward"),$e("moveWordBackward"),$e("moveWordForward"),$e("redo"),$e("splitBlock"),$e("transposeCharacter"),$e("undo");var Je=r(6);function Xe(){return(Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Qe(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rt(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var nt={STATUS:{PENDING:"PENDING",INITIALIZING:"INITIALIZING",READY:"READY"}},ot=function(e){var t=e.namespace,r=e.title,a=rt(e,["namespace","title"]),c=Object(n.useRef)(nt.STATUS.PENDING),u=Object(n.useRef)(),f=Object(ye.useHookComponent)("ReactiumUI"),d=f.Dialog,h=f.Spinner,p=Object(ye.useHandle)("AdminTools"),v=qe(),m=et(Object(ye.useDerivedState)({search:null,selection:a.selection,shortcodes:{}}),2),y=m[0],g=m[1],b=function(e){E()||g(e)},w=function(e){E()||(c.current=e)},O=ge.a.Utils.cxFactory(t),S=function(){v.panel.hide(!1,!0).setID("rte-panel"),We.focus(v)},k=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.current===nt.STATUS.PENDING){e.next=2;break}return e.abrupt("return");case 2:if(w(nt.STATUS.INITIALIZING),(r=ge.a.Shortcode.list())&&!(Object.keys(r).length<1)){e.next=8;break}return e.next=7,ge.a.Shortcode.list(!0);case 7:r=e.sent;case 8:if(t()){e.next=10;break}return e.abrupt("return");case 10:b({shortcodes:r}),w(nt.STATUS.READY);case 12:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Qe(a,n,o,i,c,"next",e)}function c(e){Qe(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),x=i.a.throttle((function(e){e=i.a.isEmpty([e])?null:e,b({search:e})}),100),E=function(){return!u.current},j=function(e){!function(e){var t=[{text:e.code}],r={id:s()(),children:t,shortcode:e,type:"shortcode"};pe.insertNodes(v,r,{at:y.selection})}(e),S()};return Object(ye.useAsyncEffect)(k,[c.current]),o.a.createElement(d,{ref:u,collapsible:!1,dismissable:!1,header:{elements:[o.a.createElement(it,{key:"close-btn",onClick:S})],title:r}},o.a.createElement("div",{className:O()},o.a.createElement("div",{className:O("search")},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{"data-focus":!0,type:"search",placeholder:"search",className:"grow",onFocus:function(e){return e.target.select()},onChange:function(e){return x(e.target.value)}}))),o.a.createElement("div",{className:O("list")},o.a.createElement(Je.Scrollbars,null,o.a.createElement("ul",null,Object.values(y.shortcodes).filter((function(e){var t=y.search;if(null===t)return!0;t=String(t).toLowerCase();var r=e.code,n=e.replacer;return String(r).toLowerCase().includes(t)||String(n).toLowerCase().includes(t)})).map((function(e,t){return o.a.createElement(at,{cx:O,key:"shortcode-".concat(t),onClick:function(){return function(e){var t=ge.a.Shortcode.Component.get(e.type);if(l.a.get(t,"attributes")){var r=l.a.get(p,"Modal");r.show(o.a.createElement(ke,{shortcode:e,insert:j,Modal:r}))}else j(e)}(e)},shortcode:e})})))),c.current!==nt.STATUS.READY&&o.a.createElement("div",{className:O("spinner")},o.a.createElement(h,null)))))},at=function(e){var t=e.cx,r=e.shortcode,n=rt(e,["cx","shortcode"]),a=r.code;return o.a.createElement("li",{className:t("list-item")},o.a.createElement("button",n,a))},it=function(e){var t=Object(ye.useHookComponent)("ReactiumUI"),r=t.Button,n=t.Icon;return o.a.createElement(r,Xe({size:r.ENUMS.SIZE.XS,color:r.ENUMS.COLOR.CLEAR,className:"ar-dialog-header-btn dismiss"},e),o.a.createElement(n,{name:"Feather.X"}))};function ct(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function st(){return(st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}ot.ENUMS=nt,ot.propTypes={className:d.a.string,namespace:d.a.string,onStatus:d.a.func},ot.defaultProps={namespace:"shortcodes-rte",onStatus:function(){},title:"Shortcodes"};var ut=function(e){var t=Object(ye.useHookComponent)("ReactiumUI"),r=t.Button,n=t.Icon;return o.a.createElement(r,st({},ge.a.RTE.ENUMS.PROPS.BUTTON,e),o.a.createElement(n,st({},ge.a.RTE.ENUMS.PROPS.ICON,{name:"Linear.Puzzle",size:20})))},lt=function(e){var t,r=e.shortcode,n=ct(e,["shortcode"]),a=ge.a.Shortcode.Component.get(r.type);return l.a.get(a,"editorComponent")&&(t=Object(ye.useHookComponent)(a.editorComponent)),t||(t=function(e){return o.a.createElement("span",null,o.a.createElement("span",st({},e,{contentEditable:!1})))}),o.a.createElement(t,n)},ft=ge.a.RTE.pluginFactory({type:"shortcode",order:100});ft.callback=function(e){var t=function(t){var r=t.currentTarget.getBoundingClientRect(),n=r.x,a=r.y;n+=r.width,e.panel.setID(ft.type).setContent(o.a.createElement(ot,{selection:e.selection})).moveTo(n,a).show()};ge.a.RTE.Format.register(ft.type,{element:lt}),ge.a.RTE.Button.register(ft.type,{order:62,sidebar:!0,button:function(e){return o.a.createElement(ut,st({},e,{onClick:t}))}});var r=e.isInline;return e.isInline=function(e){return e.type===ft.type||r(e)},e};var dt=ft,ht=r(21),pt=r.n(ht),vt=function(){},mt=function(e){var t=e.code,r=e.data,n=e.replacer,a=e.type,i=e.onDelete,c=void 0===i?vt:i,s=e.onItemSelect,u=void 0===s?vt:s,l=ge.a.Shortcode.parseKey(t),f=Object(ye.useHookComponent)("ReactiumUI"),d=f.Button,h=f.Dropdown,p=f.Icon;return o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{type:"hidden",name:"".concat(l,".key"),value:l}),o.a.createElement("input",{defaultValue:a.id,type:"hidden",name:"".concat(l,".type")}),o.a.createElement("div",{className:"input-group"},o.a.createElement("input",{className:"code",defaultValue:t,name:"".concat(l,".code"),placeholder:"[shortcode]",readOnly:!0,type:"text"}),o.a.createElement(h,{data:r,valueField:"id",selection:[a.id],onItemSelect:function(e){var t=e.item;return u({item:t,key:l})}},o.a.createElement(d,{block:!0,className:"type",color:d.ENUMS.COLOR.CLEAR,"data-dropdown-element":!0},o.a.createElement("span",{className:"label"},a.label),o.a.createElement("span",{className:"icon"},o.a.createElement(p,{name:"Feather.ChevronDown",className:"icon"})))),o.a.createElement("input",{className:"replacer",defaultValue:n,name:"".concat(l,".replacer"),placeholder:"replacement",type:"text"}),o.a.createElement(d,{className:"action",color:d.ENUMS.COLOR.DANGER,onClick:c,"data-code":t,"data-key":l,"data-replacer":n,"data-type":a.id},o.a.createElement(p,{name:"Feather.X",size:22}))))};function yt(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function gt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){yt(a,n,o,i,c,"next",e)}function c(e){yt(a,n,o,i,c,"throw",e)}i(void 0)}))}}function bt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(r),!0).forEach((function(t){Ot(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ot(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function St(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xt(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Et={STATUS:{BUSY:"BUSY",PENDING:"PENDING",INITIALIZING:"INITIALIZING",READY:"READY"}},jt=function(e){var t=e.children,r=e.className,a=e.namespace,c=e.onStatus,s=e.title,u=xt(e,["children","className","namespace","onStatus","title"]),f=Object(n.useRef)(),d=Object(n.useRef)(),h=St(Object(ye.useStatus)(Et.STATUS.PENDING),3),p=h[0],v=h[1],m=h[2],y=Object(ye.useHookComponent)("Helmet"),g=Object(ye.useHookComponent)("ConfirmBox"),b=Object(ye.useHookComponent)("ReactiumUI"),w=b.Button,O=b.Dropdown,S=b.Icon,k=b.EventForm,x=b.Spinner,E=b.Toast,j=Object(ye.useHandle)("AdminTools"),P=St(Object(ye.useDerivedState)({shortcodes:ge.a.Shortcode.list(),type:ge.a.Shortcode.Component.list[0]}),2),T=P[0],A=P[1],C=function(e){M()||A(e)},D=ge.a.Utils.cxFactory(a),F=function(e){var t=ge.a.Shortcode.parseKey(e),r=wt({},l.a.get(T,"shortcodes"));return l.a.del(r,t),C({shortcodes:r}),ge.a.Shortcode.delete(e)},N=function(){var e=gt(regeneratorRuntime.mark((function e(t,r,n){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!M()){e.next=2;break}return e.abrupt("return");case 2:if(t=String(t).toUpperCase(),o=new CustomEvent(t,{detail:r}),U.dispatchEvent(o),!M()){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,ge.a.Hook.run("shortcodes-".concat(t),o,U);case 9:if(!M()){e.next=11;break}return e.abrupt("return");case 11:if("function"!=typeof n){e.next=14;break}return e.next=14,n(o);case 14:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),R=function(){var e=gt(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(Et.STATUS.INITIALIZING),e.next=3,ge.a.Shortcode.list(!0);case 3:return t=e.sent,i.a.delay((function(){v(Et.STATUS.READY),C({fetched:Date.now()})}),500),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){return!f.current},z=function(){var e=gt(regeneratorRuntime.mark((function e(){var t,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!0!==(r.length>0&&void 0!==r[0]&&r[0])&&E.show({icon:"Feather.Check",message:Object(ye.__)("Shortcodes updated"),type:E.TYPE.INFO}),v(Et.STATUS.BUSY),t=f.current.getValue(),e.next=6,ge.a.Shortcode.save(t);case 6:v(Et.STATUS.READY);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(e){e&&e.preventDefault(),z()},I=function(e){e.target.value=ge.a.Shortcode.parseCode(e.target.value,!0)},_=function(e){var t=e.currentTarget.dataset.code,r=l.a.get(j,"Modal");r.show(o.a.createElement(g,{message:Object(ye.__)("Delete %code shortcode?").replace("%code",t),onCancel:function(){return r.hide()},onConfirm:function(){return e=t,E.show({icon:"Feather.Check",message:Object(ye.__)("Shortcode %code deleted").replace("%code",e),type:E.TYPE.INFO}),r.dismiss(),void F(t);var e},title:"Confirm Delete"}))},B=function(e){if(ge.a.Shortcode.isKey(e)){e.preventDefault(),e.stopPropagation();var t=189===e.which?"-":String.fromCharCode(e.which);e.target.value=ge.a.Shortcode.parseCode(e.target.value+t);var r=e.target.value.length-1;e.target.setSelectionRange(r,r)}},L=function(e){var t=e.item,r=e.key,n=wt({},l.a.get(T,"shortcodes"));l.a.set(n,[r,"type"],t.id),C({shortcodes:n})},U=St(Object(ye.useEventHandle)({ENUMS:Et,EventForm:f,children:t,className:r,cx:D,delete:F,dispatch:N,initialize:R,namespace:a,onStatus:c,props:u,save:z,setState:C,setStatus:v,state:T,unMounted:M}),1)[0];return Object(ye.useRegisterHandle)("Shortcodes",(function(){return U})),Object(n.useEffect)((function(){N("status",{status:p},c)}),[p]),Object(ye.useAsyncEffect)(function(){var e=gt(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m(Et.STATUS.PENDING)){e.next=5;break}return e.next=3,R();case 3:r=e.sent,t&&C({shortcodes:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[p]),Object(n.useEffect)((function(){if(f.current)return ge.a.Hotkeys.register("shortkey-save",{callback:H,key:"mod+s",order:ge.a.Enums.priority.lowest,scope:document}),function(){ge.a.Hotkeys.unregister("shortkey-save")}}),[!!f.current]),o.a.createElement("div",{className:D()},s&&o.a.createElement(y,null,o.a.createElement("title",null,s)),o.a.createElement(k,{className:D("insert"),ref:d,onSubmit:function(e){return function(e){var t=e.value,r=t.code,n=t.replacer,o=T.shortcodes,a=void 0===o?{}:o,i=T.type,c=ge.a.Shortcode.parseKey(r);if(r&&c&&n){var s=document.getElementById("shortcode-code");if(l.a.get(a,c)){var u={message:"".concat(r," already in use")};return E.show({icon:"Feather.AlertOctagon",message:Object(ye.__)(u.message),type:E.TYPE.ERROR}),C({error:u}),void s.focus()}var f=wt(wt({},a),{},Ot({},c,{code:r,replacer:n,key:c,type:i.id}));C({error:null,shortcodes:f}),d.current.setValue(null),s.focus(),z()}}(e)}},o.a.createElement("div",{className:pt()("input-group",{error:!!T.error})},o.a.createElement("input",{className:"code",id:"shortcode-code",name:"code",onBlur:I,onKeyDown:B,placeholder:"[shortcode]",type:"text"}),o.a.createElement(O,{data:ge.a.Shortcode.Component.list,onItemSelect:function(e){var t=e.item;return C({type:t})},valueField:"id",selection:[T.type.id]},o.a.createElement(w,{block:!0,className:"type",color:w.ENUMS.COLOR.CLEAR,"data-dropdown-element":!0},o.a.createElement("span",{className:"label"},T.type.label),o.a.createElement("span",{className:"icon"},o.a.createElement(S,{name:"Feather.ChevronDown",className:"icon"})))),o.a.createElement("input",{className:"replacer",id:"shortcode-replacer",name:"replacer",placeholder:"replacement",type:"text"}),o.a.createElement(w,{className:"action",color:w.ENUMS.COLOR.PRIMARY,type:w.ENUMS.TYPE.SUBMIT},o.a.createElement(S,{name:"Feather.Plus",size:24})))),o.a.createElement(k,{className:D("list-form"),ref:f,value:T.shortcodes},o.a.createElement(Je.Scrollbars,null,o.a.createElement("div",{className:D("list")},Object.entries(T.shortcodes).reverse().map((function(e){var t,r=St(e,2),n=r[0],a=r[1];return o.a.createElement(mt,{key:"code".concat(n),code:a.code,data:ge.a.Shortcode.Component.list,replacer:a.replacer,type:(t=a.type||"ShortcodeText",ge.a.Shortcode.Component.get(t)),onBlur:I,onDelete:_,onKeyDown:B,onItemSelect:L})}))))),m(Et.STATUS.INITIALIZING)&&o.a.createElement(x,{className:D("spinner")}))};function Pt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Tt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}jt.ENUMS=Et,jt.propTypes={className:d.a.string,namespace:d.a.string,onStatus:d.a.func,title:d.a.string},jt.defaultProps={namespace:"shortcodes",onStatus:function(){},title:"Shortcodes"};var At=function(){var e=Object(ye.useHandle)("Shortcodes"),t=Object(ye.useHookComponent)("ReactiumUI"),r=t.Button,n=t.Icon,a=Object(ye.useSelect)((function(e){return l.a.get(e,"Router.match.path")})),i=String(a).startsWith("/admin/shortcodes");Pt(Object(ye.useFulfilledObject)(e,["status"]),1)[0];return i?o.a.createElement(r,{appearance:r.ENUMS.APPEARANCE.PILL,className:"mr-xs-24",color:r.ENUMS.COLOR.PRIMARY,onClick:function(){return e.save()},size:r.ENUMS.SIZE.XS,type:r.ENUMS.TYPE.BUTTON},o.a.createElement(n,{name:"Feather.Check",size:18}),o.a.createElement("span",{className:"hide-xs show-md ml-xs-12"},Object(ye.__)("Save Shortcodes"))):null},Ct=function(){var e=Object(ye.useSelect)((function(e){return l.a.get(e,"Router.match.path")})),t=String(e).startsWith("/admin/shortcodes"),r=Object(ye.useHookComponent)("ReactiumUI"),n=r.Button,a=r.Icon;return t?o.a.createElement("ul",{className:"ar-breadcrumbs"},o.a.createElement("li",null,o.a.createElement(n,{className:"px-0",color:n.ENUMS.COLOR.CLEAR,size:n.ENUMS.SIZE.SM,type:n.ENUMS.TYPE.BUTTON},o.a.createElement(a,{name:"Linear.Puzzle",className:"mr-xs-12"}),Object(ye.__)("Shortcodes")))):null},Dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return String(l.a.get(e,"url","/")).replace(/\\/gi,"").toLowerCase().startsWith("/admin/shortcodes")},Ft=function(){var e=Object(ye.useHookComponent)("MenuItem");return o.a.createElement(e,{label:Object(ye.__)("Shortcodes"),route:"/admin/shortcodes",icon:"Linear.Puzzle",isActive:Dt})};function Nt(){return(Nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}ge.a.Plugin.register("shortcodes",1).then((function(){ge.a.Shortcode&&(ge.a.RTE.Plugin.register("shortcode",dt),ge.a.Component.register("ShortcodeTextEditor",(function(e){return o.a.createElement("span",null,o.a.createElement("span",Nt({},e,{className:"rte-shortcode strong",contentEditable:!1})))})),ge.a.Shortcode.Component.register("ShortcodeText",{component:"ShortcodeText",editorComponent:"ShortcodeTextEditor",label:"Text",order:-1,attributes:void 0,validate:void 0}),ge.a.Shortcode.Component.register("ShortcodeTest",{component:"ShortcodeTest",label:"Test",attributes:{name:{type:"text"},phone:{type:"phone",label:"Phone Number:",placeholder:"(555) 555-5555"},count:{type:"number",min:1,max:5},description:{type:"textarea"}}}),ge.a.Zone.addComponent({id:"SHORTCODES-BREADCRUMBS",zone:["admin-header"],component:Ct,order:0}),ge.a.Zone.addComponent({id:"SHORTCODES-SAVE-WIDGET",zone:["admin-logo"],component:At,order:100}),ge.a.Zone.addComponent({id:"SHORTCODES-SIDEBAR-WIDGET",zone:["admin-sidebar-menu"],component:Ft,order:401}),ge.a.Zone.addComponent({id:"SHORTCODES-EDITOR",zone:["admin-shortcodes"],component:jt,order:0}),ge.a.Capability.Settings.register("shortcodes-manage",{zone:"app-settings",capability:"shortcodes.create",title:Object(ye.__)("Shortcodes: Create/Update/Delete"),tooltip:Object(ye.__)("Able to view and manage Admin Shortcodes page when logged in.")}))}))}])}));